import{S as G,i as K,s as M,_ as Z,$ as tt,a0 as et,e as v,t as O,k as y,w as U,c as h,a as $,h as g,d as u,m as C,x as H,b as d,g as k,F as p,T as A,y as R,I as P,a1 as st,q as X,o as z,B as J,V as rt,a2 as D,G as at}from"../../chunks/vendor-6ff58972.js";import{s as nt}from"../../chunks/database-a28b565e.js";import{c as Q}from"../../chunks/constants-196a0cb3.js";function it(c){let e,a,i,l,s,m,r,o,b,I,f,T,_,N,B,E,q,S,L,V;function W(t){c[7](t)}let j={apiKey:Q.TINYMCE_APIKEY,conf:c[3]};return c[1]!==void 0&&(j.value=c[1]),_=new Z({props:j}),tt.push(()=>et(_,"value",W)),{c(){e=v("div"),a=v("label"),i=O("Title"),l=y(),s=v("input"),m=y(),r=v("div"),o=v("label"),b=O("Description"),I=y(),f=v("textarea"),T=y(),U(_.$$.fragment),B=y(),E=v("button"),q=O("Save"),this.h()},l(t){e=h(t,"DIV",{class:!0});var n=$(e);a=h(n,"LABEL",{for:!0});var x=$(a);i=g(x,"Title"),x.forEach(u),l=C(n),s=h(n,"INPUT",{name:!0,type:!0,class:!0}),n.forEach(u),m=C(t),r=h(t,"DIV",{class:!0});var w=$(r);o=h(w,"LABEL",{for:!0});var Y=$(o);b=g(Y,"Description"),Y.forEach(u),I=C(w),f=h(w,"TEXTAREA",{name:!0,class:!0}),$(f).forEach(u),w.forEach(u),T=C(t),H(_.$$.fragment,t),B=C(t),E=h(t,"BUTTON",{class:!0});var F=$(E);q=g(F,"Save"),F.forEach(u),this.h()},h(){d(a,"for","post-title"),d(s,"name","post-title"),d(s,"type","text"),d(s,"class","form-control"),d(e,"class","my-3 w-50"),d(o,"for","description"),d(f,"name","description"),d(f,"class","form-control"),d(r,"class","my-3"),d(E,"class","btn btn-success")},m(t,n){k(t,e,n),p(e,a),p(a,i),p(e,l),p(e,s),A(s,c[0]),k(t,m,n),k(t,r,n),p(r,o),p(o,b),p(r,I),p(r,f),A(f,c[2]),k(t,T,n),R(_,t,n),k(t,B,n),k(t,E,n),p(E,q),S=!0,L||(V=[P(s,"input",c[5]),P(f,"input",c[6]),P(E,"click",c[4])],L=!0)},p(t,[n]){n&1&&s.value!==t[0]&&A(s,t[0]),n&4&&A(f,t[2]);const x={};!N&&n&2&&(N=!0,x.value=t[1],st(()=>N=!1)),_.$set(x)},i(t){S||(X(_.$$.fragment,t),S=!0)},o(t){z(_.$$.fragment,t),S=!1},d(t){t&&u(e),t&&u(m),t&&u(r),t&&u(T),J(_,t),t&&u(B),t&&u(E),L=!1,rt(V)}}}function lt(c,e,a){let i,l,s,m=Q.TINYMCE_CONFIG;async function r(){if(i===""||i===void 0||i===null){D.fire({title:"Error",text:"Title is required",icon:"error",confirmButtonText:"Ok"});return}if(l===""||l===void 0||l===null){D.fire({title:"Error",text:"Content is required",icon:"error",confirmButtonText:"Ok"});return}const{data:f,error:T}=await nt.from("posts").insert([{title:i,content:l}]);T&&D.fire({title:"Error",text:T.message,icon:"error",confirmButtonText:"Ok"}),D.fire({title:"Success",text:"Post created successfully",icon:"success",confirmButtonText:"Ok"})}function o(){i=this.value,a(0,i)}function b(){s=this.value,a(2,s)}function I(f){l=f,a(1,l)}return[i,l,s,m,r,o,b,I]}class ot extends G{constructor(e){super();K(this,e,lt,it,M,{})}}function ut(c){let e,a,i,l,s,m;return s=new ot({}),{c(){e=v("div"),a=v("h2"),i=O("Create post"),l=y(),U(s.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var o=$(e);a=h(o,"H2",{});var b=$(a);i=g(b,"Create post"),b.forEach(u),l=C(o),H(s.$$.fragment,o),o.forEach(u),this.h()},h(){d(e,"class","mt-3")},m(r,o){k(r,e,o),p(e,a),p(a,i),p(e,l),R(s,e,null),m=!0},p:at,i(r){m||(X(s.$$.fragment,r),m=!0)},o(r){z(s.$$.fragment,r),m=!1},d(r){r&&u(e),J(s)}}}class mt extends G{constructor(e){super();K(this,e,null,ut,M,{})}}export{mt as default};
