function Z(){}function fi(t,e){for(const n in e)t[n]=e[n];return t}function en(t){return t()}function tn(){return Object.create(null)}function Te(t){t.forEach(en)}function pi(t){return typeof t=="function"}function nn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Xe;function kc(t,e){return Xe||(Xe=document.createElement("a")),Xe.href=e,t===Xe.href}function mi(t){return Object.keys(t).length===0}function gi(t,...e){if(t==null)return Z;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Sc(t,e,n){t.$$.on_destroy.push(gi(e,n))}function Tc(t,e,n,i){if(t){const r=rn(t,e,n,i);return t[0](r)}}function rn(t,e,n,i){return t[1]&&i?fi(n.ctx.slice(),t[1](i(e))):n.ctx}function Pc(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(e.dirty.length,r.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|r[a];return s}return e.dirty|r}return e.dirty}function Ac(t,e,n,i,r,s){if(r){const o=rn(e,n,i,s);t.p(o,r)}}function xc(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Oc(t,e,n){return t.set(n),e}let Ye=!1;function bi(){Ye=!0}function yi(){Ye=!1}function vi(t,e,n,i){for(;t<e;){const r=t+(e-t>>1);n(r)<=i?t=r+1:e=r}return t}function wi(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const l=[];for(let d=0;d<e.length;d++){const h=e[d];h.claim_order!==void 0&&l.push(h)}e=l}const n=new Int32Array(e.length+1),i=new Int32Array(e.length);n[0]=-1;let r=0;for(let l=0;l<e.length;l++){const d=e[l].claim_order,h=(r>0&&e[n[r]].claim_order<=d?r+1:vi(1,r,k=>e[n[k]].claim_order,d))-1;i[l]=n[h]+1;const p=h+1;n[p]=l,r=Math.max(p,r)}const s=[],o=[];let a=e.length-1;for(let l=n[r]+1;l!=0;l=i[l-1]){for(s.push(e[l-1]);a>=l;a--)o.push(e[a]);a--}for(;a>=0;a--)o.push(e[a]);s.reverse(),o.sort((l,d)=>l.claim_order-d.claim_order);for(let l=0,d=0;l<o.length;l++){for(;d<s.length&&o[l].claim_order>=s[d].claim_order;)d++;const h=d<s.length?s[d]:null;t.insertBefore(o[l],h)}}function _i(t,e){if(Ye){for(wi(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function Ci(t,e,n){t.insertBefore(e,n||null)}function Ze(t,e,n){Ye&&!n?_i(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function J(t){t.parentNode.removeChild(t)}function $c(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Pe(t){return document.createElement(t)}function vt(t){return document.createTextNode(t)}function jc(){return vt(" ")}function Bc(){return vt("")}function Ic(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function Rc(t){return function(e){return e.preventDefault(),t.call(this,e)}}function he(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Dc(t){return t===""?null:+t}function Qe(t){return Array.from(t.childNodes)}function sn(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function on(t,e,n,i,r=!1){sn(t);const s=(()=>{for(let o=t.claim_info.last_index;o<t.length;o++){const a=t[o];if(e(a)){const l=n(a);return l===void 0?t.splice(o,1):t[o]=l,r||(t.claim_info.last_index=o),a}}for(let o=t.claim_info.last_index-1;o>=0;o--){const a=t[o];if(e(a)){const l=n(a);return l===void 0?t.splice(o,1):t[o]=l,r?l===void 0&&t.claim_info.last_index--:t.claim_info.last_index=o,a}}return i()})();return s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,s}function Ei(t,e,n,i){return on(t,r=>r.nodeName===e,r=>{const s=[];for(let o=0;o<r.attributes.length;o++){const a=r.attributes[o];n[a.name]||s.push(a.name)}s.forEach(o=>r.removeAttribute(o))},()=>i(e))}function wt(t,e,n){return Ei(t,e,n,Pe)}function ki(t,e){return on(t,n=>n.nodeType===3,n=>{const i=""+e;if(n.data.startsWith(i)){if(n.data.length!==i.length)return n.splitText(i.length)}else n.data=i},()=>vt(e),!0)}function Lc(t){return ki(t," ")}function an(t,e,n){for(let i=n;i<t.length;i+=1){const r=t[i];if(r.nodeType===8&&r.textContent.trim()===e)return i}return t.length}function Mc(t){const e=an(t,"HTML_TAG_START",0),n=an(t,"HTML_TAG_END",e);if(e===n)return new cn;sn(t);const i=t.splice(e,n-e+1);J(i[0]),J(i[i.length-1]);const r=i.slice(1,i.length-1);for(const s of r)s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1;return new cn(r)}function Uc(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Nc(t,e){t.value=e==null?"":e}function Si(t,e,n,i){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Hc(t,e){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function Fc(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function qc(t,e,n){t.classList[n?"add":"remove"](e)}function Ti(t,e,n=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,!1,e),i}class Pi{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.e=Pe(n.nodeName),this.t=n,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)Ci(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(J)}}class cn extends Pi{constructor(e){super();this.e=this.n=null,this.l=e}c(e){this.l?this.n=this.l:super.c(e)}i(e){for(let n=0;n<this.n.length;n+=1)Ze(this.t,this.n[n],e)}}let Ae;function xe(t){Ae=t}function fe(){if(!Ae)throw new Error("Function called outside component initialization");return Ae}function Ai(t){fe().$$.on_mount.push(t)}function Vc(t){fe().$$.after_update.push(t)}function xi(t){fe().$$.on_destroy.push(t)}function Oi(){const t=fe();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=Ti(e,n);i.slice().forEach(s=>{s.call(t,r)})}}}function Gc(t,e){fe().$$.context.set(t,e)}function Wc(t){return fe().$$.context.get(t)}const Oe=[],$e=[],et=[],_t=[],ln=Promise.resolve();let Ct=!1;function un(){Ct||(Ct=!0,ln.then(dn))}function zc(){return un(),ln}function Et(t){et.push(t)}function Jc(t){_t.push(t)}const kt=new Set;let tt=0;function dn(){const t=Ae;do{for(;tt<Oe.length;){const e=Oe[tt];tt++,xe(e),$i(e.$$)}for(xe(null),Oe.length=0,tt=0;$e.length;)$e.pop()();for(let e=0;e<et.length;e+=1){const n=et[e];kt.has(n)||(kt.add(n),n())}et.length=0}while(Oe.length);for(;_t.length;)_t.pop()();Ct=!1,kt.clear(),xe(t)}function $i(t){if(t.fragment!==null){t.update(),Te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Et)}}const nt=new Set;let se;function Kc(){se={r:0,c:[],p:se}}function Xc(){se.r||Te(se.c),se=se.p}function ji(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function Yc(t,e,n,i){if(t&&t.o){if(nt.has(t))return;nt.add(t),se.c.push(()=>{nt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function Zc(t,e){const n={},i={},r={$$scope:1};let s=t.length;for(;s--;){const o=t[s],a=e[s];if(a){for(const l in o)l in a||(i[l]=1);for(const l in a)r[l]||(n[l]=a[l],r[l]=1);t[s]=a}else for(const l in o)r[l]=1}for(const o in i)o in n||(n[o]=void 0);return n}function Qc(t){return typeof t=="object"&&t!==null?t:{}}function el(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function tl(t){t&&t.c()}function nl(t,e){t&&t.l(e)}function Bi(t,e,n,i){const{fragment:r,on_mount:s,on_destroy:o,after_update:a}=t.$$;r&&r.m(e,n),i||Et(()=>{const l=s.map(en).filter(pi);o?o.push(...l):Te(l),t.$$.on_mount=[]}),a.forEach(Et)}function Ii(t,e){const n=t.$$;n.fragment!==null&&(Te(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ri(t,e){t.$$.dirty[0]===-1&&(Oe.push(t),un(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Di(t,e,n,i,r,s,o,a=[-1]){const l=Ae;xe(t);const d=t.$$={fragment:null,ctx:null,props:s,update:Z,not_equal:r,bound:tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:tn(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},(p,k,...B)=>{const w=B.length?B[0]:k;return d.ctx&&r(d.ctx[p],d.ctx[p]=w)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](w),h&&Ri(t,p)),k}):[],d.update(),h=!0,Te(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){bi();const p=Qe(e.target);d.fragment&&d.fragment.l(p),p.forEach(J)}else d.fragment&&d.fragment.c();e.intro&&ji(t.$$.fragment),Bi(t,e.target,e.anchor,e.customElement),yi(),dn()}xe(l)}class Li{$destroy(){Ii(this,1),this.$destroy=Z}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!mi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const pe=[];function il(t,e=Z){let n;const i=new Set;function r(a){if(nn(t,a)&&(t=a,n)){const l=!pe.length;for(const d of i)d[1](),pe.push(d,t);if(l){for(let d=0;d<pe.length;d+=2)pe[d][0](pe[d+1]);pe.length=0}}}function s(a){r(a(t))}function o(a,l=Z){const d=[a,l];return i.add(d),i.size===1&&(n=e(r)||Z),a(t),()=>{i.delete(d),i.size===0&&(n(),n=null)}}return{set:r,update:s,subscribe:o}}const hn="SweetAlert2:",Mi=t=>{const e=[];for(let n=0;n<t.length;n++)e.indexOf(t[n])===-1&&e.push(t[n]);return e},St=t=>t.charAt(0).toUpperCase()+t.slice(1),M=t=>Array.prototype.slice.call(t),R=t=>{console.warn(`${hn} ${typeof t=="object"?t.join(" "):t}`)},oe=t=>{console.error(`${hn} ${t}`)},fn=[],Ui=t=>{fn.includes(t)||(fn.push(t),R(t))},Ni=(t,e)=>{Ui(`"${t}" is deprecated and will be removed in the next major release. Please use "${e}" instead.`)},it=t=>typeof t=="function"?t():t,Tt=t=>t&&typeof t.toPromise=="function",je=t=>Tt(t)?t.toPromise():Promise.resolve(t),Pt=t=>t&&Promise.resolve(t)===t,me={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Hi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Fi={},qi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],pn=t=>Object.prototype.hasOwnProperty.call(me,t),mn=t=>Hi.indexOf(t)!==-1,At=t=>Fi[t],Vi=t=>{pn(t)||R(`Unknown parameter "${t}"`)},Gi=t=>{qi.includes(t)&&R(`The parameter "${t}" is incompatible with toasts`)},Wi=t=>{At(t)&&Ni(t,At(t))},zi=t=>{!t.backdrop&&t.allowOutsideClick&&R('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)Vi(e),t.toast&&Gi(e),Wi(e)},Ji="swal2-",gn=t=>{const e={};for(const n in t)e[t[n]]=Ji+t[n];return e},c=gn(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Be=gn(["success","warning","info","question","error"]),O=()=>document.body.querySelector(`.${c.container}`),Ie=t=>{const e=O();return e?e.querySelector(t):null},q=t=>Ie(`.${t}`),_=()=>q(c.popup),Re=()=>q(c.icon),bn=()=>q(c.title),rt=()=>q(c["html-container"]),yn=()=>q(c.image),vn=()=>q(c["progress-steps"]),st=()=>q(c["validation-message"]),G=()=>Ie(`.${c.actions} .${c.confirm}`),Q=()=>Ie(`.${c.actions} .${c.deny}`),Ki=()=>q(c["input-label"]),ge=()=>Ie(`.${c.loader}`),ae=()=>Ie(`.${c.actions} .${c.cancel}`),De=()=>q(c.actions),wn=()=>q(c.footer),ot=()=>q(c["timer-progress-bar"]),xt=()=>q(c.close),Xi=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ot=()=>{const t=M(_().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((n,i)=>{const r=parseInt(n.getAttribute("tabindex")),s=parseInt(i.getAttribute("tabindex"));return r>s?1:r<s?-1:0}),e=M(_().querySelectorAll(Xi)).filter(n=>n.getAttribute("tabindex")!=="-1");return Mi(t.concat(e)).filter(n=>U(n))},$t=()=>Y(document.body,c.shown)&&!Y(document.body,c["toast-shown"])&&!Y(document.body,c["no-backdrop"]),at=()=>_()&&Y(_(),c.toast),Yi=()=>_().hasAttribute("data-loading"),be={previousBodyPadding:null},$=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html");M(i.querySelector("head").childNodes).forEach(r=>{t.appendChild(r)}),M(i.querySelector("body").childNodes).forEach(r=>{t.appendChild(r)})}},Y=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},Zi=(t,e)=>{M(t.classList).forEach(n=>{!Object.values(c).includes(n)&&!Object.values(Be).includes(n)&&!Object.values(e.showClass).includes(n)&&t.classList.remove(n)})},V=(t,e,n)=>{if(Zi(t,e),e.customClass&&e.customClass[n]){if(typeof e.customClass[n]!="string"&&!e.customClass[n].forEach)return R(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof e.customClass[n]}"`);v(t,e.customClass[n])}},jt=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${c.popup} > .${c[e]}`);case"checkbox":return t.querySelector(`.${c.popup} > .${c.checkbox} input`);case"radio":return t.querySelector(`.${c.popup} > .${c.radio} input:checked`)||t.querySelector(`.${c.popup} > .${c.radio} input:first-child`);case"range":return t.querySelector(`.${c.popup} > .${c.range} input`);default:return t.querySelector(`.${c.popup} > .${c.input}`)}},_n=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},Cn=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(r=>{n?r.classList.add(i):r.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},v=(t,e)=>{Cn(t,e,!0)},K=(t,e)=>{Cn(t,e,!1)},ee=(t,e)=>{const n=M(t.childNodes);for(let i=0;i<n.length;i++)if(Y(n[i],e))return n[i]},Le=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style[e]=typeof n=="number"?`${n}px`:n:t.style.removeProperty(e)},P=(t,e="flex")=>{t.style.display=e},j=t=>{t.style.display="none"},En=(t,e,n,i)=>{const r=t.querySelector(e);r&&(r.style[n]=i)},ct=(t,e,n)=>{e?P(t,n):j(t)},U=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),Qi=()=>!U(G())&&!U(Q())&&!U(ae()),kn=t=>t.scrollHeight>t.clientHeight,Sn=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},Bt=(t,e=!1)=>{const n=ot();U(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},er=()=>{const t=ot(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.removeProperty("transition"),t.style.width=`${i}%`},Tn=()=>typeof window=="undefined"||typeof document=="undefined",tr=100,g={},nr=()=>{g.previousActiveElement&&g.previousActiveElement.focus?(g.previousActiveElement.focus(),g.previousActiveElement=null):document.body&&document.body.focus()},ir=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;g.restoreFocusTimeout=setTimeout(()=>{nr(),e()},tr),window.scrollTo(n,i)}),rr=`
 <div aria-labelledby="${c.title}" aria-describedby="${c["html-container"]}" class="${c.popup}" tabindex="-1">
   <button type="button" class="${c.close}"></button>
   <ul class="${c["progress-steps"]}"></ul>
   <div class="${c.icon}"></div>
   <img class="${c.image}" />
   <h2 class="${c.title}" id="${c.title}"></h2>
   <div class="${c["html-container"]}" id="${c["html-container"]}"></div>
   <input class="${c.input}" />
   <input type="file" class="${c.file}" />
   <div class="${c.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${c.select}"></select>
   <div class="${c.radio}"></div>
   <label for="${c.checkbox}" class="${c.checkbox}">
     <input type="checkbox" />
     <span class="${c.label}"></span>
   </label>
   <textarea class="${c.textarea}"></textarea>
   <div class="${c["validation-message"]}" id="${c["validation-message"]}"></div>
   <div class="${c.actions}">
     <div class="${c.loader}"></div>
     <button type="button" class="${c.confirm}"></button>
     <button type="button" class="${c.deny}"></button>
     <button type="button" class="${c.cancel}"></button>
   </div>
   <div class="${c.footer}"></div>
   <div class="${c["timer-progress-bar-container"]}">
     <div class="${c["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),sr=()=>{const t=O();return t?(t.remove(),K([document.documentElement,document.body],[c["no-backdrop"],c["toast-shown"],c["has-column"]]),!0):!1},ce=()=>{g.currentInstance.resetValidationMessage()},or=()=>{const t=_(),e=ee(t,c.input),n=ee(t,c.file),i=t.querySelector(`.${c.range} input`),r=t.querySelector(`.${c.range} output`),s=ee(t,c.select),o=t.querySelector(`.${c.checkbox} input`),a=ee(t,c.textarea);e.oninput=ce,n.onchange=ce,s.onchange=ce,o.onchange=ce,a.oninput=ce,i.oninput=()=>{ce(),r.value=i.value},i.onchange=()=>{ce(),i.nextSibling.value=i.value}},ar=t=>typeof t=="string"?document.querySelector(t):t,cr=t=>{const e=_();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},lr=t=>{window.getComputedStyle(t).direction==="rtl"&&v(O(),c.rtl)},ur=t=>{const e=sr();if(Tn()){oe("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=c.container,e&&v(n,c["no-transition"]),$(n,rr);const i=ar(t.target);i.appendChild(n),cr(t),lr(i),or()},It=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?dr(t,e):t&&$(e,t)},dr=(t,e)=>{t.jquery?hr(e,t):$(e,t.toString())},hr=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Me=(()=>{if(Tn())return!1;const t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&typeof t.style[n]!="undefined")return e[n];return!1})(),fr=()=>{const t=document.createElement("div");t.className=c["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},pr=(t,e)=>{const n=De(),i=ge();!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?j(n):P(n),V(n,e,"actions"),mr(n,i,e),$(i,e.loaderHtml),V(i,e,"loader")};function mr(t,e,n){const i=G(),r=Q(),s=ae();Rt(i,"confirm",n),Rt(r,"deny",n),Rt(s,"cancel",n),gr(i,r,s,n),n.reverseButtons&&(n.toast?(t.insertBefore(s,i),t.insertBefore(r,i)):(t.insertBefore(s,e),t.insertBefore(r,e),t.insertBefore(i,e)))}function gr(t,e,n,i){if(!i.buttonsStyling)return K([t,e,n],c.styled);v([t,e,n],c.styled),i.confirmButtonColor&&(t.style.backgroundColor=i.confirmButtonColor,v(t,c["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,v(e,c["default-outline"])),i.cancelButtonColor&&(n.style.backgroundColor=i.cancelButtonColor,v(n,c["default-outline"]))}function Rt(t,e,n){ct(t,n[`show${St(e)}Button`],"inline-block"),$(t,n[`${e}ButtonText`]),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]),t.className=c[e],V(t,n,`${e}Button`),v(t,n[`${e}ButtonClass`])}function br(t,e){typeof e=="string"?t.style.background=e:e||v([document.documentElement,document.body],c["no-backdrop"])}function yr(t,e){e in c?v(t,c[e]):(R('The "position" parameter is not valid, defaulting to "center"'),v(t,c.center))}function vr(t,e){if(e&&typeof e=="string"){const n=`grow-${e}`;n in c&&v(t,c[n])}}const wr=(t,e)=>{const n=O();!n||(br(n,e.backdrop),yr(n,e.position),vr(n,e.grow),V(n,e,"container"))};var b={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const _r=["input","file","range","select","radio","checkbox","textarea"],Cr=(t,e)=>{const n=_(),i=b.innerParams.get(t),r=!i||e.input!==i.input;_r.forEach(s=>{const o=c[s],a=ee(n,o);Sr(s,e.inputAttributes),a.className=o,r&&j(a)}),e.input&&(r&&Er(e),Tr(e))},Er=t=>{if(!D[t.input])return oe(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${t.input}"`);const e=Pn(t.input),n=D[t.input](e,t);P(n),setTimeout(()=>{_n(n)})},kr=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}},Sr=(t,e)=>{const n=jt(_(),t);if(!!n){kr(n);for(const i in e)n.setAttribute(i,e[i])}},Tr=t=>{const e=Pn(t.input);t.customClass&&v(e,t.customClass.input)},Dt=(t,e)=>{(!t.placeholder||e.inputPlaceholder)&&(t.placeholder=e.inputPlaceholder)},Ue=(t,e,n)=>{if(n.inputLabel){t.id=c.input;const i=document.createElement("label"),r=c["input-label"];i.setAttribute("for",t.id),i.className=r,v(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},Pn=t=>{const e=c[t]?c[t]:c.input;return ee(_(),e)},D={};D.text=D.email=D.password=D.number=D.tel=D.url=(t,e)=>(typeof e.inputValue=="string"||typeof e.inputValue=="number"?t.value=e.inputValue:Pt(e.inputValue)||R(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e.inputValue}"`),Ue(t,t,e),Dt(t,e),t.type=e.input,t);D.file=(t,e)=>(Ue(t,t,e),Dt(t,e),t);D.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,i.value=e.inputValue,Ue(n,t,e),t};D.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");$(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Ue(t,t,e),t};D.radio=t=>(t.textContent="",t);D.checkbox=(t,e)=>{const n=jt(_(),"checkbox");n.value="1",n.id=c.checkbox,n.checked=Boolean(e.inputValue);const i=t.querySelector("span");return $(i,e.inputPlaceholder),t};D.textarea=(t,e)=>{t.value=e.inputValue,Dt(t,e),Ue(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(_()).width),r=()=>{const s=t.offsetWidth+n(t);s>i?_().style.width=`${s}px`:_().style.width=null};new MutationObserver(r).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Pr=(t,e)=>{const n=rt();V(n,e,"htmlContainer"),e.html?(It(e.html,n),P(n,"block")):e.text?(n.textContent=e.text,P(n,"block")):j(n),Cr(t,e)},Ar=(t,e)=>{const n=wn();ct(n,e.footer),e.footer&&It(e.footer,n),V(n,e,"footer")},xr=(t,e)=>{const n=xt();$(n,e.closeButtonHtml),V(n,e,"closeButton"),ct(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)},Or=(t,e)=>{const n=b.innerParams.get(t),i=Re();if(n&&e.icon===n.icon){xn(i,e),An(i,e);return}if(!e.icon&&!e.iconHtml)return j(i);if(e.icon&&Object.keys(Be).indexOf(e.icon)===-1)return oe(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),j(i);P(i),xn(i,e),An(i,e),v(i,e.showClass.icon)},An=(t,e)=>{for(const n in Be)e.icon!==n&&K(t,Be[n]);v(t,Be[e.icon]),Ir(t,e),$r(),V(t,e,"icon")},$r=()=>{const t=_(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},jr=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Br=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,xn=(t,e)=>{t.textContent="",e.iconHtml?$(t,On(e.iconHtml)):e.icon==="success"?$(t,jr):e.icon==="error"?$(t,Br):$(t,On({question:"?",warning:"!",info:"i"}[e.icon]))},Ir=(t,e)=>{if(!!e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])En(t,n,"backgroundColor",e.iconColor);En(t,".swal2-success-ring","borderColor",e.iconColor)}},On=t=>`<div class="${c["icon-content"]}">${t}</div>`,Rr=(t,e)=>{const n=yn();if(!e.imageUrl)return j(n);P(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),Le(n,"width",e.imageWidth),Le(n,"height",e.imageHeight),n.className=c.image,V(n,e,"image")},Dr=t=>{const e=document.createElement("li");return v(e,c["progress-step"]),$(e,t),e},Lr=t=>{const e=document.createElement("li");return v(e,c["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e},Mr=(t,e)=>{const n=vn();if(!e.progressSteps||e.progressSteps.length===0)return j(n);P(n),n.textContent="",e.currentProgressStep>=e.progressSteps.length&&R("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((i,r)=>{const s=Dr(i);if(n.appendChild(s),r===e.currentProgressStep&&v(s,c["active-progress-step"]),r!==e.progressSteps.length-1){const o=Lr(e);n.appendChild(o)}})},Ur=(t,e)=>{const n=bn();ct(n,e.title||e.titleText,"block"),e.title&&It(e.title,n),e.titleText&&(n.innerText=e.titleText),V(n,e,"title")},Nr=(t,e)=>{const n=O(),i=_();e.toast?(Le(n,"width",e.width),i.style.width="100%",i.insertBefore(ge(),Re())):Le(i,"width",e.width),Le(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),j(st()),Hr(i,e)},Hr=(t,e)=>{t.className=`${c.popup} ${U(t)?e.showClass.popup:""}`,e.toast?(v([document.documentElement,document.body],c["toast-shown"]),v(t,c.toast)):v(t,c.modal),V(t,e,"popup"),typeof e.customClass=="string"&&v(t,e.customClass),e.icon&&v(t,c[`icon-${e.icon}`])},$n=(t,e)=>{Nr(t,e),wr(t,e),Mr(t,e),Or(t,e),Rr(t,e),Ur(t,e),xr(t,e),Pr(t,e),pr(t,e),Ar(t,e),typeof e.didRender=="function"&&e.didRender(_())},ye=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Fr=()=>{M(document.body.children).forEach(e=>{e===O()||e.contains(O())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})},jn=()=>{M(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Bn=["swal-title","swal-html","swal-footer"],qr=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return Xr(n),Object.assign(Vr(n),Gr(n),Wr(n),zr(n),Jr(n),Kr(n,Bn))},Vr=t=>{const e={};return M(t.querySelectorAll("swal-param")).forEach(n=>{le(n,["name","value"]);const i=n.getAttribute("name"),r=n.getAttribute("value");typeof me[i]=="boolean"&&r==="false"&&(e[i]=!1),typeof me[i]=="object"&&(e[i]=JSON.parse(r))}),e},Gr=t=>{const e={};return M(t.querySelectorAll("swal-button")).forEach(n=>{le(n,["type","color","aria-label"]);const i=n.getAttribute("type");e[`${i}ButtonText`]=n.innerHTML,e[`show${St(i)}Button`]=!0,n.hasAttribute("color")&&(e[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label"))}),e},Wr=t=>{const e={},n=t.querySelector("swal-image");return n&&(le(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e},zr=t=>{const e={},n=t.querySelector("swal-icon");return n&&(le(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Jr=t=>{const e={},n=t.querySelector("swal-input");n&&(le(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=t.querySelectorAll("swal-input-option");return i.length&&(e.inputOptions={},M(i).forEach(r=>{le(r,["value"]);const s=r.getAttribute("value"),o=r.innerHTML;e.inputOptions[s]=o})),e},Kr=(t,e)=>{const n={};for(const i in e){const r=e[i],s=t.querySelector(r);s&&(le(s,[]),n[r.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},Xr=t=>{const e=Bn.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);M(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.indexOf(i)===-1&&R(`Unrecognized element <${i}>`)})},le=(t,e)=>{M(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&R([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})};var In={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Yr(t){t.inputValidator||Object.keys(In).forEach(e=>{t.input===e&&(t.inputValidator=In[e])})}function Zr(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(R('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Qr(t){Yr(t),t.showLoaderOnConfirm&&!t.preConfirm&&R(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Zr(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),ur(t)}class es{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ts=()=>{be.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(be.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${be.previousBodyPadding+fr()}px`)},ns=()=>{be.previousBodyPadding!==null&&(document.body.style.paddingRight=`${be.previousBodyPadding}px`,be.previousBodyPadding=null)},is=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Y(document.body,c.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,v(document.body,c.iosfix),ss(),rs()}},rs=()=>{const t=navigator.userAgent,e=!!t.match(/iPad/i)||!!t.match(/iPhone/i),n=!!t.match(/WebKit/i);if(e&&n&&!t.match(/CriOS/i)){const r=44;_().scrollHeight>window.innerHeight-r&&(O().style.paddingBottom=`${r}px`)}},ss=()=>{const t=O();let e;t.ontouchstart=n=>{e=os(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},os=t=>{const e=t.target,n=O();return as(t)||cs(t)?!1:e===n||!kn(n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(kn(rt())&&rt().contains(e))},as=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",cs=t=>t.touches&&t.touches.length>1,ls=()=>{if(Y(document.body,c.iosfix)){const t=parseInt(document.body.style.top,10);K(document.body,c.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Rn=10,us=t=>{const e=O(),n=_();typeof t.willOpen=="function"&&t.willOpen(n);const r=window.getComputedStyle(document.body).overflowY;fs(e,n,t),setTimeout(()=>{ds(e,n)},Rn),$t()&&(hs(e,t.scrollbarPadding,r),Fr()),!at()&&!g.previousActiveElement&&(g.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),K(e,c["no-transition"])},Dn=t=>{const e=_();if(t.target!==e)return;const n=O();e.removeEventListener(Me,Dn),n.style.overflowY="auto"},ds=(t,e)=>{Me&&Sn(e)?(t.style.overflowY="hidden",e.addEventListener(Me,Dn)):t.style.overflowY="auto"},hs=(t,e,n)=>{is(),e&&n!=="hidden"&&ts(),setTimeout(()=>{t.scrollTop=0})},fs=(t,e,n)=>{v(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),P(e,"grid"),setTimeout(()=>{v(e,n.showClass.popup),e.style.removeProperty("opacity")},Rn),v([document.documentElement,document.body],c.shown),n.heightAuto&&n.backdrop&&!n.toast&&v([document.documentElement,document.body],c["height-auto"])},ve=t=>{let e=_();e||new Vt,e=_();const n=ge();at()?j(Re()):ps(e,t),P(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},ps=(t,e)=>{const n=De(),i=ge();!e&&U(G())&&(e=G()),P(n),e&&(j(e),i.setAttribute("data-button-to-replace",e.className)),i.parentNode.insertBefore(i,e),v([t,n],c.loading)},ms=(t,e)=>{e.input==="select"||e.input==="radio"?ws(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(Tt(e.inputValue)||Pt(e.inputValue))&&(ve(G()),_s(t,e))},gs=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return bs(n);case"radio":return ys(n);case"file":return vs(n);default:return e.inputAutoTrim?n.value.trim():n.value}},bs=t=>t.checked?1:0,ys=t=>t.checked?t.value:null,vs=t=>t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,ws=(t,e)=>{const n=_(),i=r=>Cs[e.input](n,Lt(r),e);Tt(e.inputOptions)||Pt(e.inputOptions)?(ve(G()),je(e.inputOptions).then(r=>{t.hideLoading(),i(r)})):typeof e.inputOptions=="object"?i(e.inputOptions):oe(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},_s=(t,e)=>{const n=t.getInput();j(n),je(e.inputValue).then(i=>{n.value=e.input==="number"?parseFloat(i)||0:`${i}`,P(n),n.focus(),t.hideLoading()}).catch(i=>{oe(`Error in inputValue promise: ${i}`),n.value="",P(n),n.focus(),t.hideLoading()})},Cs={select:(t,e,n)=>{const i=ee(t,c.select),r=(s,o,a)=>{const l=document.createElement("option");l.value=a,$(l,o),l.selected=Ln(a,n.inputValue),s.appendChild(l)};e.forEach(s=>{const o=s[0],a=s[1];if(Array.isArray(a)){const l=document.createElement("optgroup");l.label=o,l.disabled=!1,i.appendChild(l),a.forEach(d=>r(l,d[1],d[0]))}else r(i,a,o)}),i.focus()},radio:(t,e,n)=>{const i=ee(t,c.radio);e.forEach(s=>{const o=s[0],a=s[1],l=document.createElement("input"),d=document.createElement("label");l.type="radio",l.name=c.radio,l.value=o,Ln(o,n.inputValue)&&(l.checked=!0);const h=document.createElement("span");$(h,a),h.className=c.label,d.appendChild(l),d.appendChild(h),i.appendChild(d)});const r=i.querySelectorAll("input");r.length&&r[0].focus()}},Lt=t=>{const e=[];return typeof Map!="undefined"&&t instanceof Map?t.forEach((n,i)=>{let r=n;typeof r=="object"&&(r=Lt(r)),e.push([i,r])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=Lt(i)),e.push([n,i])}),e},Ln=(t,e)=>e&&e.toString()===t.toString();function Mn(){const t=b.innerParams.get(this);if(!t)return;const e=b.domCache.get(this);j(e.loader),at()?t.icon&&P(Re()):Es(e),K([e.popup,e.actions],c.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Es=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?P(e[0],"inline-block"):Qi()&&j(t.actions)};function ks(t){const e=b.innerParams.get(t||this),n=b.domCache.get(t||this);return n?jt(n.popup,e.input):null}var Ne={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ss=()=>U(_()),Un=()=>G()&&G().click(),Ts=()=>Q()&&Q().click(),Ps=()=>ae()&&ae().click(),Nn=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},As=(t,e,n,i)=>{Nn(e),n.toast||(e.keydownHandler=r=>Os(t,r,i),e.keydownTarget=n.keydownListenerCapture?window:_(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Mt=(t,e,n)=>{const i=Ot();if(i.length)return e=e+n,e===i.length?e=0:e===-1&&(e=i.length-1),i[e].focus();_().focus()},Hn=["ArrowRight","ArrowDown"],xs=["ArrowLeft","ArrowUp"],Os=(t,e,n)=>{const i=b.innerParams.get(t);!i||e.isComposing||e.keyCode===229||(i.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?$s(t,e,i):e.key==="Tab"?js(e,i):[...Hn,...xs].includes(e.key)?Bs(e.key):e.key==="Escape"&&Is(e,i,n))},$s=(t,e,n)=>{if(!!it(n.allowEnterKey)&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;Un(),e.preventDefault()}},js=(t,e)=>{const n=t.target,i=Ot();let r=-1;for(let s=0;s<i.length;s++)if(n===i[s]){r=s;break}t.shiftKey?Mt(e,r,-1):Mt(e,r,1),t.stopPropagation(),t.preventDefault()},Bs=t=>{const e=G(),n=Q(),i=ae();if(![e,n,i].includes(document.activeElement))return;const r=Hn.includes(t)?"nextElementSibling":"previousElementSibling";let s=document.activeElement;for(let o=0;o<De().children.length;o++){if(s=s[r],!s)return;if(U(s)&&s instanceof HTMLButtonElement)break}s instanceof HTMLButtonElement&&s.focus()},Is=(t,e,n)=>{it(e.allowEscapeKey)&&(t.preventDefault(),n(ye.esc))};function Fn(t,e,n,i){at()?qn(t,i):(ir(n).then(()=>qn(t,i)),Nn(g)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),$t()&&(ns(),ls(),jn()),Rs()}function Rs(){K([document.documentElement,document.body],[c.shown,c["height-auto"],c["no-backdrop"],c["toast-shown"]])}function lt(t){t=Us(t);const e=Ne.swalPromiseResolve.get(this),n=Ls(this);this.isAwaitingPromise()?t.isDismissed||(He(this),e(t)):n&&e(t)}function Ds(){return!!b.awaitingPromise.get(this)}const Ls=t=>{const e=_();if(!e)return!1;const n=b.innerParams.get(t);if(!n||Y(e,n.hideClass.popup))return!1;K(e,n.showClass.popup),v(e,n.hideClass.popup);const i=O();return K(i,n.showClass.backdrop),v(i,n.hideClass.backdrop),Ns(t,e,n),!0};function Ms(t){const e=Ne.swalPromiseReject.get(this);He(this),e&&e(t)}const He=t=>{t.isAwaitingPromise()&&(b.awaitingPromise.delete(t),b.innerParams.get(t)||t._destroy())},Us=t=>typeof t=="undefined"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Ns=(t,e,n)=>{const i=O(),r=Me&&Sn(e);typeof n.willClose=="function"&&n.willClose(e),r?Hs(t,e,i,n.returnFocus,n.didClose):Fn(t,i,n.returnFocus,n.didClose)},Hs=(t,e,n,i,r)=>{g.swalCloseEventFinishedCallback=Fn.bind(null,t,n,i,r),e.addEventListener(Me,function(s){s.target===e&&(g.swalCloseEventFinishedCallback(),delete g.swalCloseEventFinishedCallback)})},qn=(t,e)=>{setTimeout(()=>{typeof e=="function"&&e.bind(t.params)(),t._destroy()})};function Vn(t,e,n){const i=b.domCache.get(t);e.forEach(r=>{i[r].disabled=n})}function Gn(t,e){if(!t)return!1;if(t.type==="radio"){const i=t.parentNode.parentNode.querySelectorAll("input");for(let r=0;r<i.length;r++)i[r].disabled=e}else t.disabled=e}function Fs(){Vn(this,["confirmButton","denyButton","cancelButton"],!1)}function qs(){Vn(this,["confirmButton","denyButton","cancelButton"],!0)}function Vs(){return Gn(this.getInput(),!1)}function Gs(){return Gn(this.getInput(),!0)}function Ws(t){const e=b.domCache.get(this),n=b.innerParams.get(this);$(e.validationMessage,t),e.validationMessage.className=c["validation-message"],n.customClass&&n.customClass.validationMessage&&v(e.validationMessage,n.customClass.validationMessage),P(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedby",c["validation-message"]),_n(i),v(i,c.inputerror))}function zs(){const t=b.domCache.get(this);t.validationMessage&&j(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),K(e,c.inputerror))}function Js(){return b.domCache.get(this).progressSteps}function Ks(t){const e=_(),n=b.innerParams.get(this);if(!e||Y(e,n.hideClass.popup))return R("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const i=Xs(t),r=Object.assign({},n,i);$n(this,r),b.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Xs=t=>{const e={};return Object.keys(t).forEach(n=>{mn(n)?e[n]=t[n]:R(`Invalid parameter to update: "${n}". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`)}),e};function Ys(){const t=b.domCache.get(this),e=b.innerParams.get(this);if(!e){Wn(this);return}t.popup&&g.swalCloseEventFinishedCallback&&(g.swalCloseEventFinishedCallback(),delete g.swalCloseEventFinishedCallback),g.deferDisposalTimer&&(clearTimeout(g.deferDisposalTimer),delete g.deferDisposalTimer),typeof e.didDestroy=="function"&&e.didDestroy(),Zs(this)}const Zs=t=>{Wn(t),delete t.params,delete g.keydownHandler,delete g.keydownTarget,delete g.currentInstance},Wn=t=>{t.isAwaitingPromise()?(Ut(b,t),b.awaitingPromise.set(t,!0)):(Ut(Ne,t),Ut(b,t))},Ut=(t,e)=>{for(const n in t)t[n].delete(e)};var zn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",hideLoading:Mn,disableLoading:Mn,getInput:ks,close:lt,isAwaitingPromise:Ds,rejectPromise:Ms,handleAwaitingPromise:He,closePopup:lt,closeModal:lt,closeToast:lt,enableButtons:Fs,disableButtons:qs,enableInput:Vs,disableInput:Gs,showValidationMessage:Ws,resetValidationMessage:zs,getProgressSteps:Js,update:Ks,_destroy:Ys});const Qs=t=>{const e=b.innerParams.get(t);t.disableButtons(),e.input?Jn(t,"confirm"):Ht(t,!0)},eo=t=>{const e=b.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Jn(t,"deny"):Nt(t,!1)},to=(t,e)=>{t.disableButtons(),e(ye.cancel)},Jn=(t,e)=>{const n=b.innerParams.get(t);if(!n.input)return oe(`The "input" parameter is needed to be set when using returnInputValueOn${St(e)}`);const i=gs(t,n);n.inputValidator?no(t,i,e):t.getInput().checkValidity()?e==="deny"?Nt(t,i):Ht(t,i):(t.enableButtons(),t.showValidationMessage(n.validationMessage))},no=(t,e,n)=>{const i=b.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>je(i.inputValidator(e,i.validationMessage))).then(s=>{t.enableButtons(),t.enableInput(),s?t.showValidationMessage(s):n==="deny"?Nt(t,e):Ht(t,e)})},Nt=(t,e)=>{const n=b.innerParams.get(t||globalThis);n.showLoaderOnDeny&&ve(Q()),n.preDeny?(b.awaitingPromise.set(t||globalThis,!0),Promise.resolve().then(()=>je(n.preDeny(e,n.validationMessage))).then(r=>{r===!1?(t.hideLoading(),He(t)):t.closePopup({isDenied:!0,value:typeof r=="undefined"?e:r})}).catch(r=>Xn(t||globalThis,r))):t.closePopup({isDenied:!0,value:e})},Kn=(t,e)=>{t.closePopup({isConfirmed:!0,value:e})},Xn=(t,e)=>{t.rejectPromise(e)},Ht=(t,e)=>{const n=b.innerParams.get(t||globalThis);n.showLoaderOnConfirm&&ve(),n.preConfirm?(t.resetValidationMessage(),b.awaitingPromise.set(t||globalThis,!0),Promise.resolve().then(()=>je(n.preConfirm(e,n.validationMessage))).then(r=>{U(st())||r===!1?(t.hideLoading(),He(t)):Kn(t,typeof r=="undefined"?e:r)}).catch(r=>Xn(t||globalThis,r))):Kn(t,e)},io=(t,e,n)=>{b.innerParams.get(t).toast?ro(t,e,n):(oo(e),ao(e),co(t,e,n))},ro=(t,e,n)=>{e.popup.onclick=()=>{const i=b.innerParams.get(t);i&&(so(i)||i.timer||i.input)||n(ye.close)}},so=t=>t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton;let ut=!1;const oo=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(ut=!0)}}},ao=t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(ut=!0)}}},co=(t,e,n)=>{e.container.onclick=i=>{const r=b.innerParams.get(t);if(ut){ut=!1;return}i.target===e.container&&it(r.allowOutsideClick)&&n(ye.backdrop)}},lo=t=>typeof t=="object"&&t.jquery,Yn=t=>t instanceof Element||lo(t),uo=t=>{const e={};return typeof t[0]=="object"&&!Yn(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const r=t[i];typeof r=="string"||Yn(r)?e[n]=r:r!==void 0&&oe(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof r}`)}),e};function ho(...t){const e=this;return new e(...t)}function fo(t){class e extends this{_main(i,r){return super._main(i,Object.assign({},t,r))}}return e}const po=()=>g.timeout&&g.timeout.getTimerLeft(),Zn=()=>{if(g.timeout)return er(),g.timeout.stop()},Qn=()=>{if(g.timeout){const t=g.timeout.start();return Bt(t),t}},mo=()=>{const t=g.timeout;return t&&(t.running?Zn():Qn())},go=t=>{if(g.timeout){const e=g.timeout.increase(t);return Bt(e,!0),e}},bo=()=>g.timeout&&g.timeout.isRunning();let ei=!1;const Ft={};function yo(t="data-swal-template"){Ft[t]=this,ei||(document.body.addEventListener("click",vo),ei=!0)}const vo=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Ft){const i=e.getAttribute(n);if(i){Ft[n].fire({template:i});return}}};var wo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isValidParameter:pn,isUpdatableParameter:mn,isDeprecatedParameter:At,argsToParams:uo,getContainer:O,getPopup:_,getTitle:bn,getHtmlContainer:rt,getImage:yn,getIcon:Re,getInputLabel:Ki,getCloseButton:xt,getActions:De,getConfirmButton:G,getDenyButton:Q,getCancelButton:ae,getLoader:ge,getFooter:wn,getTimerProgressBar:ot,getFocusableElements:Ot,getValidationMessage:st,isLoading:Yi,isVisible:Ss,clickConfirm:Un,clickDeny:Ts,clickCancel:Ps,fire:ho,mixin:fo,showLoading:ve,enableLoading:ve,getTimerLeft:po,stopTimer:Zn,resumeTimer:Qn,toggleTimer:mo,increaseTimer:go,isTimerRunning:bo,bindClickHandler:yo});let qt;class we{constructor(...e){if(typeof window=="undefined")return;qt=this;const n=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:n,writable:!1,enumerable:!0,configurable:!0}});const i=this._main(this.params);b.promise.set(this,i)}_main(e,n={}){zi(Object.assign({},n,e)),g.currentInstance&&(g.currentInstance._destroy(),$t()&&jn()),g.currentInstance=this;const i=Co(e,n);Qr(i),Object.freeze(i),g.timeout&&(g.timeout.stop(),delete g.timeout),clearTimeout(g.restoreFocusTimeout);const r=Eo(this);return $n(this,i),b.innerParams.set(this,i),_o(this,r,i)}then(e){return b.promise.get(this).then(e)}finally(e){return b.promise.get(this).finally(e)}}const _o=(t,e,n)=>new Promise((i,r)=>{const s=o=>{t.closePopup({isDismissed:!0,dismiss:o})};Ne.swalPromiseResolve.set(t,i),Ne.swalPromiseReject.set(t,r),e.confirmButton.onclick=()=>Qs(t),e.denyButton.onclick=()=>eo(t),e.cancelButton.onclick=()=>to(t,s),e.closeButton.onclick=()=>s(ye.close),io(t,e,s),As(t,g,n,s),ms(t,n),us(n),ko(g,n,s),So(e,n),setTimeout(()=>{e.container.scrollTop=0})}),Co=(t,e)=>{const n=qr(t),i=Object.assign({},me,e,n,t);return i.showClass=Object.assign({},me.showClass,i.showClass),i.hideClass=Object.assign({},me.hideClass,i.hideClass),i},Eo=t=>{const e={popup:_(),container:O(),actions:De(),confirmButton:G(),denyButton:Q(),cancelButton:ae(),loader:ge(),closeButton:xt(),validationMessage:st(),progressSteps:vn()};return b.domCache.set(t,e),e},ko=(t,e,n)=>{const i=ot();j(i),e.timer&&(t.timeout=new es(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(P(i),V(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Bt(e.timer)})))},So=(t,e)=>{if(!e.toast){if(!it(e.allowEnterKey))return Po();To(t,e)||Mt(e,-1,1)}},To=(t,e)=>e.focusDeny&&U(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&U(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&U(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Po=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Object.assign(we.prototype,zn);Object.assign(we,wo);Object.keys(zn).forEach(t=>{we[t]=function(...e){if(qt)return qt[t](...e)}});we.DismissReason=ye;we.version="11.4.7";const Vt=we;Vt.default=Vt;const Ao="1.29.3",ti={"X-Client-Info":`supabase-js/${Ao}`},xo="supabase.auth.token";function Oo(t){return t.replace(/\/$/,"")}const $o=()=>typeof window!="undefined";var jo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gt={exports:{}};(function(t,e){var n=typeof self!="undefined"?self:jo,i=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(u){return u&&DataView.prototype.isPrototypeOf(u)}if(a.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(u){return u&&d.indexOf(Object.prototype.toString.call(u))>-1};function p(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()}function k(u){return typeof u!="string"&&(u=String(u)),u}function B(u){var f={next:function(){var y=u.shift();return{done:y===void 0,value:y}}};return a.iterable&&(f[Symbol.iterator]=function(){return f}),f}function w(u){this.map={},u instanceof w?u.forEach(function(f,y){this.append(y,f)},this):Array.isArray(u)?u.forEach(function(f){this.append(f[0],f[1])},this):u&&Object.getOwnPropertyNames(u).forEach(function(f){this.append(f,u[f])},this)}w.prototype.append=function(u,f){u=p(u),f=k(f);var y=this.map[u];this.map[u]=y?y+", "+f:f},w.prototype.delete=function(u){delete this.map[p(u)]},w.prototype.get=function(u){return u=p(u),this.has(u)?this.map[u]:null},w.prototype.has=function(u){return this.map.hasOwnProperty(p(u))},w.prototype.set=function(u,f){this.map[p(u)]=k(f)},w.prototype.forEach=function(u,f){for(var y in this.map)this.map.hasOwnProperty(y)&&u.call(f,this.map[y],y,this)},w.prototype.keys=function(){var u=[];return this.forEach(function(f,y){u.push(y)}),B(u)},w.prototype.values=function(){var u=[];return this.forEach(function(f){u.push(f)}),B(u)},w.prototype.entries=function(){var u=[];return this.forEach(function(f,y){u.push([y,f])}),B(u)},a.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function A(u){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}function F(u){return new Promise(function(f,y){u.onload=function(){f(u.result)},u.onerror=function(){y(u.error)}})}function re(u){var f=new FileReader,y=F(f);return f.readAsArrayBuffer(u),y}function Ee(u){var f=new FileReader,y=F(f);return f.readAsText(u),y}function pt(u){for(var f=new Uint8Array(u),y=new Array(f.length),x=0;x<f.length;x++)y[x]=String.fromCharCode(f[x]);return y.join("")}function de(u){if(u.slice)return u.slice(0);var f=new Uint8Array(u.byteLength);return f.set(new Uint8Array(u)),f.buffer}function ke(){return this.bodyUsed=!1,this._initBody=function(u){this._bodyInit=u,u?typeof u=="string"?this._bodyText=u:a.blob&&Blob.prototype.isPrototypeOf(u)?this._bodyBlob=u:a.formData&&FormData.prototype.isPrototypeOf(u)?this._bodyFormData=u:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)?this._bodyText=u.toString():a.arrayBuffer&&a.blob&&l(u)?(this._bodyArrayBuffer=de(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||h(u))?this._bodyArrayBuffer=de(u):this._bodyText=u=Object.prototype.toString.call(u):this._bodyText="",this.headers.get("content-type")||(typeof u=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var u=A(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(re)}),this.text=function(){var u=A(this);if(u)return u;if(this._bodyBlob)return Ee(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(pt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}var mt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function gt(u){var f=u.toUpperCase();return mt.indexOf(f)>-1?f:u}function X(u,f){f=f||{};var y=f.body;if(u instanceof X){if(u.bodyUsed)throw new TypeError("Already read");this.url=u.url,this.credentials=u.credentials,f.headers||(this.headers=new w(u.headers)),this.method=u.method,this.mode=u.mode,this.signal=u.signal,!y&&u._bodyInit!=null&&(y=u._bodyInit,u.bodyUsed=!0)}else this.url=String(u);if(this.credentials=f.credentials||this.credentials||"same-origin",(f.headers||!this.headers)&&(this.headers=new w(f.headers)),this.method=gt(f.method||this.method||"GET"),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(y)}X.prototype.clone=function(){return new X(this,{body:this._bodyInit})};function m(u){var f=new FormData;return u.trim().split("&").forEach(function(y){if(y){var x=y.split("="),T=x.shift().replace(/\+/g," "),C=x.join("=").replace(/\+/g," ");f.append(decodeURIComponent(T),decodeURIComponent(C))}}),f}function I(u){var f=new w,y=u.replace(/\r?\n[\t ]+/g," ");return y.split(/\r?\n/).forEach(function(x){var T=x.split(":"),C=T.shift().trim();if(C){var Ke=T.join(":").trim();f.append(C,Ke)}}),f}ke.call(X.prototype);function z(u,f){f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in f?f.statusText:"OK",this.headers=new w(f.headers),this.url=f.url||"",this._initBody(u)}ke.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},z.error=function(){var u=new z(null,{status:0,statusText:""});return u.type="error",u};var hi=[301,302,303,307,308];z.redirect=function(u,f){if(hi.indexOf(f)===-1)throw new RangeError("Invalid status code");return new z(null,{status:f,headers:{location:u}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(f,y){this.message=f,this.name=y;var x=Error(f);this.stack=x.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function bt(u,f){return new Promise(function(y,x){var T=new X(u,f);if(T.signal&&T.signal.aborted)return x(new o.DOMException("Aborted","AbortError"));var C=new XMLHttpRequest;function Ke(){C.abort()}C.onload=function(){var Se={status:C.status,statusText:C.statusText,headers:I(C.getAllResponseHeaders()||"")};Se.url="responseURL"in C?C.responseURL:Se.headers.get("X-Request-URL");var yt="response"in C?C.response:C.responseText;y(new z(yt,Se))},C.onerror=function(){x(new TypeError("Network request failed"))},C.ontimeout=function(){x(new TypeError("Network request failed"))},C.onabort=function(){x(new o.DOMException("Aborted","AbortError"))},C.open(T.method,T.url,!0),T.credentials==="include"?C.withCredentials=!0:T.credentials==="omit"&&(C.withCredentials=!1),"responseType"in C&&a.blob&&(C.responseType="blob"),T.headers.forEach(function(Se,yt){C.setRequestHeader(yt,Se)}),T.signal&&(T.signal.addEventListener("abort",Ke),C.onreadystatechange=function(){C.readyState===4&&T.signal.removeEventListener("abort",Ke)}),C.send(typeof T._bodyInit=="undefined"?null:T._bodyInit)})}return bt.polyfill=!0,s.fetch||(s.fetch=bt,s.Headers=w,s.Request=X,s.Response=z),o.Headers=w,o.Request=X,o.Response=z,o.fetch=bt,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var r=i;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,t.exports=e})(Gt,Gt.exports);var dt=Bo(Gt.exports),Fe=globalThis&&globalThis.__awaiter||function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{d(i.next(h))}catch(p){o(p)}}function l(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(a,l)}d((i=i.apply(t,e||[])).next())})};const Io=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ro=(t,e)=>{if(typeof t.json!="function")return e(t);t.json().then(n=>e({message:Io(n),status:(t==null?void 0:t.status)||500}))},Do=(t,e,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||(i.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n)),i};function ht(t=dt,e,n,i,r){return Fe(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,Do(e,i,r)).then(a=>{if(!a.ok)throw a;return(i==null?void 0:i.noResolveJson)?s:a.json()}).then(a=>s(a)).catch(a=>Ro(a,o))})})}function Wt(t,e,n){return Fe(this,void 0,void 0,function*(){return ht(t,"GET",e,n)})}function N(t,e,n,i){return Fe(this,void 0,void 0,function*(){return ht(t,"POST",e,i,n)})}function ni(t,e,n,i){return Fe(this,void 0,void 0,function*(){return ht(t,"PUT",e,i,n)})}function Lo(t,e,n,i){return Fe(this,void 0,void 0,function*(){return ht(t,"DELETE",e,i,n)})}const Mo="1.22.0",Uo="http://localhost:9999",No={"X-Client-Info":`gotrue-js/${Mo}`},qe="supabase.auth.token",Ho={name:"sb:token",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};function Fo(t,e,n){const i=n||{},r=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!s.test(t))throw new TypeError("argument name is invalid");const o=r(e);if(o&&!s.test(o))throw new TypeError("argument val is invalid");let a=t+"="+o;if(i.maxAge!=null){const l=i.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(l)}if(i.domain){if(!s.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!s.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function qo(t){if(!t||!t.headers||!t.headers.host)throw new Error('The "host" request header is not available');const e=t.headers.host.indexOf(":")>-1&&t.headers.host.split(":")[0]||t.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function Vo(t,e){var n,i,r;return Fo(t.name,t.value,{maxAge:t.maxAge,expires:new Date(Date.now()+t.maxAge*1e3),httpOnly:!0,secure:e,path:(n=t.path)!==null&&n!==void 0?n:"/",domain:(i=t.domain)!==null&&i!==void 0?i:"",sameSite:(r=t.sameSite)!==null&&r!==void 0?r:"lax"})}function Go(t,e,n){const i=n.map(s=>Vo(s,qo(t))),r=e.getHeader("Set-Cookie");r&&(r instanceof Array?Array.prototype.push.apply(i,r):typeof r=="string"&&i.push(r)),e.setHeader("Set-Cookie",i)}function ii(t,e,n){Go(t,e,[n])}function Wo(t,e,n){ii(t,e,{name:n,value:"",maxAge:-1})}function Ve(t){return Math.round(Date.now()/1e3)+t}function zo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const te=()=>typeof window!="undefined";function ne(t,e){var n;e||(e=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),t=t.replace(/[\[\]]/g,"\\$&");const i=new RegExp("[?&#]"+t+"(=([^&#]*)|&|#|$)"),r=i.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}var S=globalThis&&globalThis.__awaiter||function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{d(i.next(h))}catch(p){o(p)}}function l(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(a,l)}d((i=i.apply(t,e||[])).next())})};class Jo{constructor({url:e="",headers:n={},cookieOptions:i,fetch:r}){this.url=e,this.headers=n,this.cookieOptions=Object.assign(Object.assign({},Ho),i),this.fetch=r}_createRequestHeaders(e){const n=Object.assign({},this.headers);return n.Authorization=`Bearer ${e}`,n}cookieName(){var e;return(e=this.cookieOptions.name)!==null&&e!==void 0?e:""}getUrlForProvider(e,n){const i=[`provider=${encodeURIComponent(e)}`];return(n==null?void 0:n.redirectTo)&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(n==null?void 0:n.scopes)&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),`${this.url}/authorize?${i.join("&")}`}signUpWithEmail(e,n,i={}){return S(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let s="";i.redirectTo&&(s="?redirect_to="+encodeURIComponent(i.redirectTo));const o=yield N(this.fetch,`${this.url}/signup${s}`,{email:e,password:n,data:i.data,gotrue_meta_security:{hcaptcha_token:i.captchaToken}},{headers:r}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=Ve(o.expires_in)),{data:a,error:null}}catch(r){return{data:null,error:r}}})}signInWithEmail(e,n,i={}){return S(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let s="?grant_type=password";i.redirectTo&&(s+="&redirect_to="+encodeURIComponent(i.redirectTo));const o=yield N(this.fetch,`${this.url}/token${s}`,{email:e,password:n},{headers:r}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=Ve(o.expires_in)),{data:a,error:null}}catch(r){return{data:null,error:r}}})}signUpWithPhone(e,n,i={}){return S(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers),s=yield N(this.fetch,`${this.url}/signup`,{phone:e,password:n,data:i.data,gotrue_meta_security:{hcaptcha_token:i.captchaToken}},{headers:r}),o=Object.assign({},s);return o.expires_in&&(o.expires_at=Ve(s.expires_in)),{data:o,error:null}}catch(r){return{data:null,error:r}}})}signInWithPhone(e,n){return S(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers),r="?grant_type=password",s=yield N(this.fetch,`${this.url}/token${r}`,{phone:e,password:n},{headers:i}),o=Object.assign({},s);return o.expires_in&&(o.expires_at=Ve(s.expires_in)),{data:o,error:null}}catch(i){return{data:null,error:i}}})}sendMagicLinkEmail(e,n={}){return S(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers);let r="";return n.redirectTo&&(r+="?redirect_to="+encodeURIComponent(n.redirectTo)),{data:yield N(this.fetch,`${this.url}/magiclink${r}`,{email:e,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:i}),error:null}}catch(i){return{data:null,error:i}}})}sendMobileOTP(e,n={}){return S(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers);return{data:yield N(this.fetch,`${this.url}/otp`,{phone:e,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:i}),error:null}}catch(i){return{data:null,error:i}}})}signOut(e){return S(this,void 0,void 0,function*(){try{return yield N(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(n){return{error:n}}})}verifyMobileOTP(e,n,i={}){return S(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);return{data:yield N(this.fetch,`${this.url}/verify`,{phone:e,token:n,type:"sms",redirect_to:i.redirectTo},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}inviteUserByEmail(e,n={}){return S(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers);let r="";return n.redirectTo&&(r+="?redirect_to="+encodeURIComponent(n.redirectTo)),{data:yield N(this.fetch,`${this.url}/invite${r}`,{email:e,data:n.data},{headers:i}),error:null}}catch(i){return{data:null,error:i}}})}resetPasswordForEmail(e,n={}){return S(this,void 0,void 0,function*(){try{const i=Object.assign({},this.headers);let r="";return n.redirectTo&&(r+="?redirect_to="+encodeURIComponent(n.redirectTo)),{data:yield N(this.fetch,`${this.url}/recover${r}`,{email:e,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:i}),error:null}}catch(i){return{data:null,error:i}}})}refreshAccessToken(e){return S(this,void 0,void 0,function*(){try{const n=yield N(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),i=Object.assign({},n);return i.expires_in&&(i.expires_at=Ve(n.expires_in)),{data:i,error:null}}catch(n){return{data:null,error:n}}})}setAuthCookie(e,n){var i;e.method!=="POST"&&(n.setHeader("Allow","POST"),n.status(405).end("Method Not Allowed"));const{event:r,session:s}=e.body;if(!r)throw new Error("Auth event missing!");if(r==="SIGNED_IN"){if(!s)throw new Error("Auth session missing!");ii(e,n,{name:this.cookieName(),value:s.access_token,domain:this.cookieOptions.domain,maxAge:(i=this.cookieOptions.lifetime)!==null&&i!==void 0?i:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}r==="SIGNED_OUT"&&Wo(e,n,this.cookieName()),n.status(200).json({})}generateLink(e,n,i={}){return S(this,void 0,void 0,function*(){try{return{data:yield N(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:n,password:i.password,data:i.data,redirect_to:i.redirectTo},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createUser(e){return S(this,void 0,void 0,function*(){try{const n=yield N(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}listUsers(){return S(this,void 0,void 0,function*(){try{return{data:(yield Wt(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}getUserById(e){return S(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}getUserByCookie(e){return S(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");const n=e.cookies[this.cookieName()];if(!n)throw new Error("No cookie found!");const{user:i,error:r}=yield this.getUser(n);if(r)throw r;return{token:n,user:i,data:i,error:null}}catch(n){return{token:null,user:null,data:null,error:n}}})}updateUserById(e,n){return S(this,void 0,void 0,function*(){try{const i=yield ni(this.fetch,`${this.url}/admin/users/${e}`,n,{headers:this.headers});return{user:i,data:i,error:null}}catch(i){return{user:null,data:null,error:i}}})}deleteUser(e){return S(this,void 0,void 0,function*(){try{const n=yield Lo(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}getUser(e){return S(this,void 0,void 0,function*(){try{const n=yield Wt(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}updateUser(e,n){return S(this,void 0,void 0,function*(){try{const i=yield ni(this.fetch,`${this.url}/user`,n,{headers:this._createRequestHeaders(e)});return{user:i,data:i,error:null}}catch(i){return{user:null,data:null,error:i}}})}}function Ko(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}var H=globalThis&&globalThis.__awaiter||function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{d(i.next(h))}catch(p){o(p)}}function l(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(a,l)}d((i=i.apply(t,e||[])).next())})};Ko();const Xo={url:Uo,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:No};class Yo{constructor(e){this.stateChangeEmitters=new Map;const n=Object.assign(Object.assign({},Xo),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.multiTab=n.multiTab,this.localStorage=n.localStorage||globalThis.localStorage,this.api=new Jo({url:n.url,headers:n.headers,cookieOptions:n.cookieOptions,fetch:n.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),n.detectSessionInUrl&&te()&&!!ne("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:i})=>{i&&console.error("Error getting session from URL.",i)})}signUp({email:e,password:n,phone:i},r={}){return H(this,void 0,void 0,function*(){try{this._removeSession();const{data:s,error:o}=i&&n?yield this.api.signUpWithPhone(i,n,{data:r.data,captchaToken:r.captchaToken}):yield this.api.signUpWithEmail(e,n,{redirectTo:r.redirectTo,data:r.data,captchaToken:r.captchaToken});if(o)throw o;if(!s)throw"An error occurred on sign up.";let a=null,l=null;return s.access_token&&(a=s,l=a.user,this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),s.id&&(l=s),{user:l,session:a,error:null}}catch(s){return{user:null,session:null,error:s}}})}signIn({email:e,phone:n,password:i,refreshToken:r,provider:s},o={}){return H(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!i){const{error:a}=yield this.api.sendMagicLinkEmail(e,{redirectTo:o.redirectTo,captchaToken:o.captchaToken});return{user:null,session:null,error:a}}if(e&&i)return this._handleEmailSignIn(e,i,{redirectTo:o.redirectTo});if(n&&!i){const{error:a}=yield this.api.sendMobileOTP(n,{captchaToken:o.captchaToken});return{user:null,session:null,error:a}}if(n&&i)return this._handlePhoneSignIn(n,i);if(r){const{error:a}=yield this._callRefreshToken(r);if(a)throw a;return{user:this.currentUser,session:this.currentSession,error:null}}if(s)return this._handleProviderSignIn(s,{redirectTo:o.redirectTo,scopes:o.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(a){return{user:null,session:null,error:a}}})}verifyOTP({phone:e,token:n},i={}){return H(this,void 0,void 0,function*(){try{this._removeSession();const{data:r,error:s}=yield this.api.verifyMobileOTP(e,n,i);if(s)throw s;if(!r)throw"An error occurred on token verification.";let o=null,a=null;return r.access_token&&(o=r,a=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),r.id&&(a=r),{user:a,session:o,error:null}}catch(r){return{user:null,session:null,error:r}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return H(this,void 0,void 0,function*(){try{if(!((e=this.currentSession)===null||e===void 0?void 0:e.access_token))throw new Error("Not logged in.");const{error:n}=yield this._callRefreshToken();if(n)throw n;return{data:this.currentSession,user:this.currentUser,error:null}}catch(n){return{data:null,user:null,error:n}}})}update(e){var n;return H(this,void 0,void 0,function*(){try{if(!((n=this.currentSession)===null||n===void 0?void 0:n.access_token))throw new Error("Not logged in.");const{user:i,error:r}=yield this.api.updateUser(this.currentSession.access_token,e);if(r)throw r;if(!i)throw Error("Invalid user data.");const s=Object.assign(Object.assign({},this.currentSession),{user:i});return this._saveSession(s),this._notifyAllSubscribers("USER_UPDATED"),{data:i,user:i,error:null}}catch(i){return{data:null,user:null,error:i}}})}setSession(e){return H(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:n,error:i}=yield this.api.refreshAccessToken(e);return i?{session:null,error:i}:(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"),{session:n,error:null})}catch(n){return{error:n,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return H(this,void 0,void 0,function*(){try{if(!te())throw new Error("No browser detected.");const n=ne("error_description");if(n)throw new Error(n);const i=ne("provider_token"),r=ne("access_token");if(!r)throw new Error("No access_token detected.");const s=ne("expires_in");if(!s)throw new Error("No expires_in detected.");const o=ne("refresh_token");if(!o)throw new Error("No refresh_token detected.");const a=ne("token_type");if(!a)throw new Error("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(s),{user:h,error:p}=yield this.api.getUser(r);if(p)throw p;const k={provider_token:i,access_token:r,expires_in:parseInt(s),expires_at:d,refresh_token:o,token_type:a,user:h};if(e==null?void 0:e.storeSession){this._saveSession(k);const B=ne("type");this._notifyAllSubscribers("SIGNED_IN"),B==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:k,error:null}}catch(n){return{data:null,error:n}}})}signOut(){var e;return H(this,void 0,void 0,function*(){const n=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),n){const{error:i}=yield this.api.signOut(n);if(i)return{error:i}}return{error:null}})}onAuthStateChange(e){try{const n=zo(),i={id:n,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,i),{data:i,error:null}}catch(n){return{data:null,error:n}}}_handleEmailSignIn(e,n,i={}){var r,s;return H(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.api.signInWithEmail(e,n,{redirectTo:i.redirectTo});return a||!o?{data:null,user:null,session:null,error:a}:((((r=o==null?void 0:o.user)===null||r===void 0?void 0:r.confirmed_at)||((s=o==null?void 0:o.user)===null||s===void 0?void 0:s.email_confirmed_at))&&(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),{data:o,user:o.user,session:o,error:null})}catch(o){return{data:null,user:null,session:null,error:o}}})}_handlePhoneSignIn(e,n){var i;return H(this,void 0,void 0,function*(){try{const{data:r,error:s}=yield this.api.signInWithPhone(e,n);return s||!r?{data:null,user:null,session:null,error:s}:(((i=r==null?void 0:r.user)===null||i===void 0?void 0:i.phone_confirmed_at)&&(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")),{data:r,user:r.user,session:r,error:null})}catch(r){return{data:null,user:null,session:null,error:r}}})}_handleProviderSignIn(e,n={}){const i=this.api.getUrlForProvider(e,{redirectTo:n.redirectTo,scopes:n.scopes});try{return te()&&(window.location.href=i),{provider:e,url:i,data:null,session:null,user:null,error:null}}catch(r){return i?{provider:e,url:i,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:r}}}_recoverSession(){var e;try{const n=te()&&((e=this.localStorage)===null||e===void 0?void 0:e.getItem(qe));if(!n||typeof n!="string")return null;const i=JSON.parse(n),{currentSession:r,expiresAt:s}=i,o=Math.round(Date.now()/1e3);s>=o&&(r==null?void 0:r.user)&&(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"))}catch(n){console.log("error",n)}}_recoverAndRefresh(){return H(this,void 0,void 0,function*(){try{const e=te()&&(yield this.localStorage.getItem(qe));if(!e)return null;const n=JSON.parse(e),{currentSession:i,expiresAt:r}=n,s=Math.round(Date.now()/1e3);if(r<s)if(this.autoRefreshToken&&i.refresh_token){const{error:o}=yield this._callRefreshToken(i.refresh_token);o&&(console.log(o.message),yield this._removeSession())}else this._removeSession();else!i||!i.user?(console.log("Current session is missing data."),this._removeSession()):(this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){return console.error(e),null}})}_callRefreshToken(e){var n;return e===void 0&&(e=(n=this.currentSession)===null||n===void 0?void 0:n.refresh_token),H(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:i,error:r}=yield this.api.refreshAccessToken(e);if(r)throw r;if(!i)throw Error("Invalid session data.");return this._saveSession(i),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:i,error:null}}catch(i){return{data:null,error:i}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(n=>n.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const n=e.expires_at;if(n){const i=Math.round(Date.now()/1e3),r=n-i,s=r>60?60:.5;this._startAutoRefreshToken((r-s)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const n={currentSession:e,expiresAt:e.expires_at};te()&&this.localStorage.setItem(qe,JSON.stringify(n))}_removeSession(){return H(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),te()&&(yield this.localStorage.removeItem(qe))})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!te()||!(window==null?void 0:window.addEventListener))return!1;try{window==null||window.addEventListener("storage",e=>{var n;if(e.key===qe){const i=JSON.parse(String(e.newValue));((n=i==null?void 0:i.currentSession)===null||n===void 0?void 0:n.access_token)?(this._recoverAndRefresh(),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}}class Zo extends Yo{constructor(e){super(e)}}var Qo=globalThis&&globalThis.__awaiter||function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{d(i.next(h))}catch(p){o(p)}}function l(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(a,l)}d((i=i.apply(t,e||[])).next())})};class zt{constructor(e){this.shouldThrowOnError=!1,Object.assign(this,e),this.fetch=e.fetch||dt}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){typeof this.schema=="undefined"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let i=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(r=>Qo(this,void 0,void 0,function*(){var s,o,a;let l=null,d=null,h=null;if(r.ok){const k=(s=this.headers.Prefer)===null||s===void 0?void 0:s.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!k){const A=yield r.text();A&&(this.headers.Accept==="text/csv"?d=A:d=JSON.parse(A))}const B=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=r.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");B&&w&&w.length>1&&(h=parseInt(w[1]))}else{const k=yield r.text();try{l=JSON.parse(k)}catch{l={message:k}}if(l&&this.shouldThrowOnError)throw l}return{error:l,data:d,count:h,status:r.status,statusText:r.statusText,body:d}}));return this.shouldThrowOnError||(i=i.catch(r=>({error:{message:`FetchError: ${r.message}`,details:"",hint:"",code:r.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),i.then(e,n)}}class Jt extends zt{select(e="*"){let n=!1;const i=e.split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",i),this}order(e,{ascending:n=!0,nullsFirst:i=!1,foreignTable:r}={}){const s=typeof r=="undefined"?"order":`${r}.order`,o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${n?"asc":"desc"}.${i?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:n}={}){const i=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:i}={}){const r=typeof i=="undefined"?"offset":`${i}.offset`,s=typeof i=="undefined"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new Jt(this);return e.then=(n,i)=>this.then(r=>{var s,o;return((o=(s=r.error)===null||s===void 0?void 0:s.details)===null||o===void 0?void 0:o.includes("Results contain 0 rows"))?n({error:null,data:null,count:r.count,status:200,statusText:"OK",body:null}):n(r)},i),e}csv(){return this.headers.Accept="text/csv",this}}class _e extends Jt{constructor(){super(...arguments);this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,n,i){return this.url.searchParams.append(`${e}`,`not.${n}.${i}`),this}or(e,{foreignTable:n}={}){const i=typeof n=="undefined"?"or":`${n}.or`;return this.url.searchParams.append(i,`(${e})`),this}eq(e,n){return this.url.searchParams.append(`${e}`,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(`${e}`,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(`${e}`,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(`${e}`,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(`${e}`,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(`${e}`,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(`${e}`,`like.${n}`),this}ilike(e,n){return this.url.searchParams.append(`${e}`,`ilike.${n}`),this}is(e,n){return this.url.searchParams.append(`${e}`,`is.${n}`),this}in(e,n){const i=n.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${i})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(`${e}`,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(`${e}`,`cs.{${n.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(`${e}`,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(`${e}`,`cd.{${n.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(n)}`),this}rangeLt(e,n){return this.url.searchParams.append(`${e}`,`sl.${n}`),this}rangeGt(e,n){return this.url.searchParams.append(`${e}`,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(`${e}`,`nxl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(`${e}`,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(`${e}`,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(`${e}`,`ov.${n}`):this.url.searchParams.append(`${e}`,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:i,type:r=null}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(`${e}`,`${s}fts${o}.${n}`),this}fts(e,n,{config:i}={}){const r=typeof i=="undefined"?"":`(${i})`;return this.url.searchParams.append(`${e}`,`fts${r}.${n}`),this}plfts(e,n,{config:i}={}){const r=typeof i=="undefined"?"":`(${i})`;return this.url.searchParams.append(`${e}`,`plfts${r}.${n}`),this}phfts(e,n,{config:i}={}){const r=typeof i=="undefined"?"":`(${i})`;return this.url.searchParams.append(`${e}`,`phfts${r}.${n}`),this}wfts(e,n,{config:i}={}){const r=typeof i=="undefined"?"":`(${i})`;return this.url.searchParams.append(`${e}`,`wfts${r}.${n}`),this}filter(e,n,i){return this.url.searchParams.append(`${e}`,`${n}.${i}`),this}match(e){return Object.keys(e).forEach(n=>{this.url.searchParams.append(`${n}`,`eq.${e[n]}`)}),this}}class ri extends zt{constructor(e,{headers:n={},schema:i,fetch:r}={}){super({fetch:r});this.url=new URL(e),this.headers=Object.assign({},n),this.schema=i}select(e="*",{head:n=!1,count:i=null}={}){this.method="GET";let r=!1;const s=e.split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer=`count=${i}`),n&&(this.method="HEAD"),new _e(this)}insert(e,{upsert:n=!1,onConflict:i,returning:r="representation",count:s=null}={}){this.method="POST";const o=[`return=${r}`];if(n&&o.push("resolution=merge-duplicates"),n&&i!==void 0&&this.url.searchParams.set("on_conflict",i),this.body=e,s&&o.push(`count=${s}`),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(a.length>0){const l=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new _e(this)}upsert(e,{onConflict:n,returning:i="representation",count:r=null,ignoreDuplicates:s=!1}={}){this.method="POST";const o=[`resolution=${s?"ignore":"merge"}-duplicates`,`return=${i}`];return n!==void 0&&this.url.searchParams.set("on_conflict",n),this.body=e,r&&o.push(`count=${r}`),this.headers.Prefer=o.join(","),new _e(this)}update(e,{returning:n="representation",count:i=null}={}){this.method="PATCH";const r=[`return=${n}`];return this.body=e,i&&r.push(`count=${i}`),this.headers.Prefer=r.join(","),new _e(this)}delete({returning:e="representation",count:n=null}={}){this.method="DELETE";const i=[`return=${e}`];return n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new _e(this)}}class ea extends zt{constructor(e,{headers:n={},schema:i,fetch:r}={}){super({fetch:r});this.url=new URL(e),this.headers=Object.assign({},n),this.schema=i}rpc(e,{head:n=!1,count:i=null}={}){return n?(this.method="HEAD",e&&Object.entries(e).forEach(([r,s])=>{this.url.searchParams.append(r,s)})):(this.method="POST",this.body=e),i&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${i}`:this.headers.Prefer=`count=${i}`),new _e(this)}}const ta="0.35.1",na={"X-Client-Info":`postgrest-js/${ta}`};class ia{constructor(e,{headers:n={},schema:i,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},na),n),this.schema=i,this.fetch=r}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const n=`${this.url}/${e}`;return new ri(n,{headers:this.headers,schema:this.schema,fetch:this.fetch})}rpc(e,n,{head:i=!1,count:r=null}={}){const s=`${this.url}/rpc/${e}`;return new ea(s,{headers:this.headers,schema:this.schema,fetch:this.fetch}).rpc(n,{head:i,count:r})}}var E;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(E||(E={}));const si=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,o)=>(s[o]=ra(o,t,e,r),s),{})},ra=(t,e,n,i)=>{const r=e.find(a=>a.name===t),s=r==null?void 0:r.type,o=n[t];return s&&!i.includes(s)?oi(s,o):Kt(o)},oi=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ca(e,n)}switch(t){case E.bool:return sa(e);case E.float4:case E.float8:case E.int2:case E.int4:case E.int8:case E.numeric:case E.oid:return oa(e);case E.json:case E.jsonb:return aa(e);case E.timestamp:return la(e);case E.abstime:case E.date:case E.daterange:case E.int4range:case E.int8range:case E.money:case E.reltime:case E.text:case E.time:case E.timestamptz:case E.timetz:case E.tsrange:case E.tstzrange:return Kt(e);default:return Kt(e)}},Kt=t=>t,sa=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},oa=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aa=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ca=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>oi(e,a))}return t},la=t=>typeof t=="string"?t.replace(" ","T"):t,ua="1.3.5",da={"X-Client-Info":`realtime-js/${ua}`},ha="1.0.0",ai=1e4,fa=1e3;var Ge;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ge||(Ge={}));var L;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(L||(L={}));var W;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(W||(W={}));var Xt;(function(t){t.websocket="websocket"})(Xt||(Xt={}));class ci{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Yt{constructor(e,n,i={},r=ai){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,n){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class pa{constructor(e,n={},i){this.topic=e,this.params=n,this.socket=i,this.bindings=[],this.state=L.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new Yt(this,W.join,this.params,this.timeout),this.rejoinTimer=new ci(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=L.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=L.closed,this.socket.remove(this)}),this.onError(r=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=L.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=L.errored,this.rejoinTimer.scheduleTimeout())}),this.on(W.reply,(r,s)=>{this.trigger(this.replyEventName(s),r)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(W.close,e)}onError(e){this.on(W.error,n=>e(n))}on(e,n){this.bindings.push({event:e,callback:n})}off(e){this.bindings=this.bindings.filter(n=>n.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Yt(this,e,n,i);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=L.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(W.close,"leave",this.joinRef())};this.joinPush.destroy();let i=new Yt(this,W.leave,{},e);return i.receive("ok",()=>n()).receive("timeout",()=>n()),i.send(),this.canPush()||i.trigger("ok",{}),i}onMessage(e,n,i){return n}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=L.joining,this.joinPush.resend(e))}trigger(e,n,i){let{close:r,error:s,leave:o,join:a}=W;if(i&&[r,s,o,a].indexOf(e)>=0&&i!==this.joinRef())return;let d=this.onMessage(e,n,i);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(h=>h.event==="*"?e===(n==null?void 0:n.type):h.event===e).map(h=>h.callback(d,i))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===L.closed}isErrored(){return this.state===L.errored}isJoined(){return this.state===L.joined}isJoining(){return this.state===L.joining}isLeaving(){return this.state===L.leaving}}const ma="websocket@^1.0.34",ga="websocket@1.0.34",ba=!1,ya="sha512-PRDso2sGwF6kM75QykIesBijKSVceR6jL2G8NGYyq2XrItNC2P5/qL5XeR056GhA+Ly7JMFvJb9I312mJfmqnQ==",va="/websocket",wa={},_a={type:"range",registry:!0,raw:"websocket@^1.0.34",name:"websocket",escapedName:"websocket",rawSpec:"^1.0.34",saveSpec:null,fetchSpec:"^1.0.34"},Ca=["/@supabase/realtime-js"],Ea="https://registry.npmjs.org/websocket/-/websocket-1.0.34.tgz",ka="2bdc2602c08bf2c82253b730655c0ef7dcab3111",Sa="websocket@^1.0.34",Ta="D:\\dev\\svelte-website\\rewrite\\node_modules\\@supabase\\realtime-js",Pa={name:"Brian McKelvey",email:"theturtle32@gmail.com",url:"https://github.com/theturtle32"},Aa="lib/browser.js",xa={url:"https://github.com/theturtle32/WebSocket-Node/issues"},Oa=!1,$a={verbose:!1},ja=[{name:"I\xF1aki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],Ba={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Ia=!1,Ra="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Da={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.9.1"},La={lib:"./lib"},Ma={node:">=4.0.0"},Ua="https://github.com/theturtle32/WebSocket-Node",Na=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Ha="Apache-2.0",Fa="index",qa="websocket",Va={type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},Ga={gulp:"gulp",test:"tape test/unit/*.js"},Wa="1.0.34";var za={_from:ma,_id:ga,_inBundle:ba,_integrity:ya,_location:va,_phantomChildren:wa,_requested:_a,_requiredBy:Ca,_resolved:Ea,_shasum:ka,_spec:Sa,_where:Ta,author:Pa,browser:Aa,bugs:xa,bundleDependencies:Oa,config:$a,contributors:ja,dependencies:Ba,deprecated:Ia,description:Ra,devDependencies:Da,directories:La,engines:Ma,homepage:Ua,keywords:Na,license:Ha,main:Fa,name:qa,repository:Va,scripts:Ga,version:Wa},Ja=za.version,ue;if(typeof globalThis=="object")ue=globalThis;else try{ue=require("es5-ext/global")}catch{}finally{if(!ue&&typeof window!="undefined"&&(ue=window),!ue)throw new Error("Could not determine global this")}var We=ue.WebSocket||ue.MozWebSocket,Ka=Ja;function li(t,e){var n;return e?n=new We(t,e):n=new We(t),n}We&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(li,t,{get:function(){return We[t]}})});var Xa={w3cwebsocket:We?li:null,version:Ka};class Ya{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(e.slice(o,o+r));o=o+r;const l=i.decode(e.slice(o,o+s));o=o+s;const d=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:d}}}var Za=globalThis&&globalThis.__awaiter||function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{d(i.next(h))}catch(p){o(p)}}function l(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(a,l)}d((i=i.apply(t,e||[])).next())})};const Qa=()=>{};class ec{constructor(e,n){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=da,this.params={},this.timeout=ai,this.transport=Xa.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Qa,this.conn=null,this.sendBuffer=[],this.serializer=new Ya,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${Xt.websocket}`,(n==null?void 0:n.params)&&(this.params=n.params),(n==null?void 0:n.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),(n==null?void 0:n.timeout)&&(this.timeout=n.timeout),(n==null?void 0:n.logger)&&(this.logger=n.logger),(n==null?void 0:n.transport)&&(this.transport=n.transport),(n==null?void 0:n.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs),(n==null?void 0:n.longpollerTimeout)&&(this.longpollerTimeout=n.longpollerTimeout),this.reconnectAfterMs=(n==null?void 0:n.reconnectAfterMs)?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=(n==null?void 0:n.encode)?n.encode:(i,r)=>r(JSON.stringify(i)),this.decode=(n==null?void 0:n.decode)?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ci(()=>Za(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,n){return new Promise((i,r)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),i({error:null,data:!0})}catch(s){i({error:s,data:!1})}})}log(e,n,i){this.logger(e,n,i)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case Ge.connecting:return"connecting";case Ge.open:return"open";case Ge.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.channels=this.channels.filter(n=>n.joinRef()!==e.joinRef())}channel(e,n={}){let i=new pa(e,n,this);return this.channels.push(i),i}push(e){let{topic:n,event:i,payload:r,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${i} (${s})`,r),this.isConnected()?o():this.sendBuffer.push(o)}onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:r,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:r===(s==null?void 0:s.type)&&this._resetHeartbeat(),this.log("receive",`${s.status||""} ${i} ${r} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a.isMember(i)).forEach(a=>a.trigger(r,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ha}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e;try{this.channels.forEach(n=>{e&&n.updateJoinPayload({user_token:e}),n.joinedOnce&&n.isJoined()&&n.push(W.access_token,{access_token:e})})}catch(n){console.log("setAuth error",n)}}leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i.isJoined()||i.isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(W.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs)}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(fa,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class tc{constructor(e,n,i,r){const s={},o=r==="*"?`realtime:${i}`:`realtime:${i}:${r}`,a=n.Authorization.split(" ")[1];a&&(s.user_token=a),this.subscription=e.channel(o,s)}getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=si(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=si(e.columns,e.old_record)),n}on(e,n){return this.subscription.on(e,i=>{let r={schema:i.schema,table:i.table,commit_timestamp:i.commit_timestamp,eventType:i.type,new:{},old:{},errors:i.errors};r=Object.assign(Object.assign({},r),this.getPayloadRecords(i)),n(r)}),this}subscribe(e=()=>{}){return this.subscription.onError(n=>e("SUBSCRIPTION_ERROR",n)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",n=>e("SUBSCRIPTION_ERROR",n)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class nc extends ri{constructor(e,{headers:n={},schema:i,realtime:r,table:s,fetch:o}){super(e,{headers:n,schema:i,fetch:o});this._subscription=null,this._realtime=r,this._headers=n,this._schema=i,this._table=s}on(e,n){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new tc(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,n)}}var ze=globalThis&&globalThis.__awaiter||function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{d(i.next(h))}catch(p){o(p)}}function l(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(a,l)}d((i=i.apply(t,e||[])).next())})};const ic=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rc=(t,e)=>{if(typeof t.json!="function")return e(t);t.json().then(n=>e({message:ic(n),status:(t==null?void 0:t.status)||500}))},sc=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};function ft(t=dt,e,n,i,r,s){return ze(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,sc(e,i,r,s)).then(l=>{if(!l.ok)throw l;return(i==null?void 0:i.noResolveJson)?o(l):l.json()}).then(l=>o(l)).catch(l=>rc(l,a))})})}function Zt(t,e,n,i){return ze(this,void 0,void 0,function*(){return ft(t,"GET",e,n,i)})}function Je(t,e,n,i,r){return ze(this,void 0,void 0,function*(){return ft(t,"POST",e,i,r,n)})}function oc(t,e,n,i,r){return ze(this,void 0,void 0,function*(){return ft(t,"PUT",e,i,r,n)})}function ui(t,e,n,i,r){return ze(this,void 0,void 0,function*(){return ft(t,"DELETE",e,i,r,n)})}const ac="0.0.0",cc={"X-Client-Info":`storage-js/${ac}`};var Ce=globalThis&&globalThis.__awaiter||function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{d(i.next(h))}catch(p){o(p)}}function l(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(a,l)}d((i=i.apply(t,e||[])).next())})};class lc{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},cc),n),this.fetch=i}listBuckets(){return Ce(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}createBucket(e,n={public:!1}){return Ce(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public},{headers:this.headers})).name,error:null}}catch(i){return{data:null,error:i}}})}updateBucket(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield oc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public},{headers:this.headers}),error:null}}catch(i){return{data:null,error:i}}})}emptyBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}}var ie=globalThis&&globalThis.__awaiter||function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{d(i.next(h))}catch(p){o(p)}}function l(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(a,l)}d((i=i.apply(t,e||[])).next())})};const uc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hc{constructor(e,n={},i,r){this.url=e,this.headers=n,this.bucketId=i,this.fetch=r}uploadOrUpdate(e,n,i,r){return ie(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},dc),r),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob!="undefined"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",i)):typeof FormData!="undefined"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl)):(s=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(n),d=this._getFinalPath(l),h=yield dt(`${this.url}/object/${d}`,{method:e,body:s,headers:a});if(h.ok)return{data:{Key:d},error:null};{const p=yield h.json();return{data:null,error:p}}}catch(s){return{data:null,error:s}}})}upload(e,n,i){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}update(e,n,i){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n){return ie(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(i){return{data:null,error:i}}})}createSignedUrl(e,n){return ie(this,void 0,void 0,function*(){try{const i=this._getFinalPath(e);let r=yield Je(this.fetch,`${this.url}/object/sign/${i}`,{expiresIn:n},{headers:this.headers});const s=`${this.url}${r.signedURL}`;return r={signedURL:s},{data:r,error:null,signedURL:s}}catch(i){return{data:null,error:i,signedURL:null}}})}download(e){return ie(this,void 0,void 0,function*(){try{const n=this._getFinalPath(e);return{data:yield(yield Zt(this.fetch,`${this.url}/object/${n}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(n){return{data:null,error:n}}})}getPublicUrl(e){try{const n=this._getFinalPath(e),i=`${this.url}/object/public/${n}`;return{data:{publicURL:i},error:null,publicURL:i}}catch(n){return{data:null,error:n,publicURL:null}}}remove(e){return ie(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}list(e,n,i){return ie(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},uc),n),{prefix:e||""});return{data:yield Je(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){return{data:null,error:r}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class fc extends lc{constructor(e,n={},i){super(e,n,i)}from(e){return new hc(this.url,this.headers,e,this.fetch)}}var Qt=globalThis&&globalThis.__awaiter||function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{d(i.next(h))}catch(p){o(p)}}function l(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):r(h.value).then(a,l)}d((i=i.apply(t,e||[])).next())})};const pc={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:ti};class mc{constructor(e,n,i){if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");e=Oo(e);const r=Object.assign(Object.assign({},pc),i);this.restUrl=`${e}/rest/v1`,this.realtimeUrl=`${e}/realtime/v1`.replace("http","ws"),this.authUrl=`${e}/auth/v1`,this.storageUrl=`${e}/storage/v1`,this.schema=r.schema,this.multiTab=r.multiTab,this.fetch=r.fetch,this.headers=Object.assign(Object.assign({},ti),i==null?void 0:i.headers),this.auth=this._initSupabaseAuthClient(r),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},r.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get storage(){return new fc(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const n=`${this.restUrl}/${e}`;return new nc(n,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch})}rpc(e,n,{head:i=!1,count:r=null}={}){return this._initPostgRESTClient().rpc(e,n,{head:i,count:r})}removeAllSubscriptions(){return Qt(this,void 0,void 0,function*(){const n=this.realtime.channels.slice().map(i=>this.removeSubscription(i).then(()=>({status:"fulfilled",value:{error:null}})).catch(r=>({status:"rejected",reason:r})));return Promise.all(n)})}removeSubscription(e){return new Promise((n,i)=>Qt(this,void 0,void 0,function*(){const{error:r}=yield this._closeSubscription(e);if(r)return i({error:r});const s=this.getSubscriptions(),o=s.filter(a=>a.isJoined()).length;if(s.length===0){const{error:a}=yield this.realtime.disconnect();if(a)return i({error:a})}return n({data:{openSubscriptions:o},error:null})}))}_closeSubscription(e){return Qt(this,void 0,void 0,function*(){return e.isClosed()?new Promise(n=>(this.realtime.remove(e),n({error:null}))):yield this._closeChannel(e)})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,localStorage:r,headers:s,fetch:o}){const a={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zo({url:this.authUrl,headers:Object.assign(Object.assign({},s),a),autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,localStorage:r,fetch:o})}_initRealtimeClient(e){return new ec(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new ia(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch})}_getAuthHeaders(){var e,n;const i=this.headers,r=(n=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey;return i.apikey=this.supabaseKey,i.Authorization=`Bearer ${r}`,i}_closeChannel(e){return new Promise((n,i)=>{e.unsubscribe().receive("ok",()=>n({error:null})).receive("error",r=>i({error:r})).receive("timeout",()=>i({error:"timed out"}))})}_listenForMultiTabEvents(){if(!this.multiTab||!$o()||!(window==null?void 0:window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",e=>{var n,i,r;if(e.key===xo){const s=JSON.parse(String(e.newValue)),o=(i=(n=s==null?void 0:s.currentSession)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,a=(r=this.auth.session())===null||r===void 0?void 0:r.access_token;o?!a&&o?this._handleTokenChanged("SIGNED_IN",o,"STORAGE"):a!==o&&this._handleTokenChanged("TOKEN_REFRESHED",o,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",o,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,i==null?void 0:i.access_token,"CLIENT")});return e}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n),i=="STORAGE"&&this.auth.setAuth(n),this.changedAccessToken=n):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.removeAllSubscriptions(),i=="STORAGE"&&this.auth.signOut())}}const rl=(t,e,n)=>new mc(t,e,n),gc=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],bc=(t,e)=>{gc.forEach(n=>{t.on(n,i=>{e(n.toLowerCase(),{eventName:n,event:i,editor:t})})})};function yc(t){let e;return{c(){e=Pe("textarea"),this.h()},l(n){e=wt(n,"TEXTAREA",{id:!0,style:!0}),Qe(e).forEach(J),this.h()},h(){he(e,"id",t[0]),Si(e,"visibility","hidden")},m(n,i){Ze(n,e,i),t[17](e)},p(n,i){i&1&&he(e,"id",n[0])},d(n){n&&J(e),t[17](null)}}}function vc(t){let e;return{c(){e=Pe("div"),this.h()},l(n){e=wt(n,"DIV",{id:!0}),Qe(e).forEach(J),this.h()},h(){he(e,"id",t[0])},m(n,i){Ze(n,e,i),t[16](e)},p(n,i){i&1&&he(e,"id",n[0])},d(n){n&&J(e),t[16](null)}}}function wc(t){let e;function n(s,o){return s[1]?vc:yc}let i=n(t),r=i(t);return{c(){e=Pe("div"),r.c(),this.h()},l(s){e=wt(s,"DIV",{class:!0});var o=Qe(e);r.l(o),o.forEach(J),this.h()},h(){he(e,"class",t[2])},m(s,o){Ze(s,e,o),r.m(e,null),t[18](e)},p(s,[o]){i===(i=n(s))&&r?r.p(s,o):(r.d(1),r=i(s),r&&(r.c(),r.m(e,null))),o&4&&he(e,"class",s[2])},i:Z,o:Z,d(s){s&&J(e),r.d(),t[18](null)}}}const di=t=>t+"_"+Math.floor(Math.random()*1e9)+String(Date.now()),_c=()=>{let t={listeners:[],scriptId:di("tiny-script"),scriptLoaded:!1,injected:!1};const e=(i,r,s,o)=>{t.injected=!0;const a=r.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.src=s,a.onload=()=>{o()},r.head&&r.head.appendChild(a)};return{load:(i,r,s)=>{t.scriptLoaded?s():(t.listeners.push(s),t.injected||e(t.scriptId,i,r,()=>{t.listeners.forEach(o=>o()),t.scriptLoaded=!0}))}}};let Cc=_c();function Ec(t,e,n){let{id:i=di("tinymce-svelte")}=e,{inline:r=void 0}=e,{disabled:s=!1}=e,{apiKey:o="no-api-key"}=e,{channel:a="5"}=e,{scriptSrc:l=void 0}=e,{conf:d={}}=e,{modelEvents:h="change input undo redo"}=e,{value:p=""}=e,{text:k=""}=e,{cssClass:B="tinymce-wrapper"}=e,w,A,F,re="",Ee=s;const pt=Oi(),de=()=>{const I=(()=>typeof window!="undefined"?window:global)();return I&&I.tinymce?I.tinymce:null},ke=()=>{const m=Object.assign(Object.assign({},d),{target:A,inline:r!==void 0?r:d.inline!==void 0?d.inline:!1,readonly:s,setup:I=>{n(13,F=I),I.on("init",()=>{I.setContent(p),I.on(h,()=>{n(14,re=I.getContent()),re!==p&&(n(5,p=re),n(6,k=I.getContent({format:"text"})))})}),bc(I,pt),typeof d.setup=="function"&&d.setup(I)}});n(4,A.style.visibility="",A),de().init(m)};Ai(()=>{if(de()!==null)ke();else{const m=l||`https://cdn.tiny.cloud/1/${o}/tinymce/${a}/tinymce.min.js`;Cc.load(w.ownerDocument,m,()=>{ke()})}}),xi(()=>{var m;F&&((m=de())===null||m===void 0||m.remove(F))});function mt(m){$e[m?"unshift":"push"](()=>{A=m,n(4,A)})}function gt(m){$e[m?"unshift":"push"](()=>{A=m,n(4,A)})}function X(m){$e[m?"unshift":"push"](()=>{w=m,n(3,w)})}return t.$$set=m=>{"id"in m&&n(0,i=m.id),"inline"in m&&n(1,r=m.inline),"disabled"in m&&n(7,s=m.disabled),"apiKey"in m&&n(8,o=m.apiKey),"channel"in m&&n(9,a=m.channel),"scriptSrc"in m&&n(10,l=m.scriptSrc),"conf"in m&&n(11,d=m.conf),"modelEvents"in m&&n(12,h=m.modelEvents),"value"in m&&n(5,p=m.value),"text"in m&&n(6,k=m.text),"cssClass"in m&&n(2,B=m.cssClass)},t.$$.update=()=>{t.$$.dirty&57504&&(F&&re!==p&&(F.setContent(p),n(6,k=F.getContent({format:"text"}))),F&&s!==Ee&&(n(15,Ee=s),F.setMode(s?"readonly":"design")))},[i,r,B,w,A,p,k,s,o,a,l,d,h,F,re,Ee,mt,gt,X]}class sl extends Li{constructor(e){super();Di(this,e,Ec,wc,nn,{id:0,inline:1,disabled:7,apiKey:8,channel:9,scriptSrc:10,conf:11,modelEvents:12,value:5,text:6,cssClass:2})}}export{$e as $,Qc as A,Ii as B,fi as C,il as D,zc as E,_i as F,Z as G,Sc as H,Ic as I,Tc as J,Ac as K,xc as L,Pc as M,Oc as N,rl as O,Wc as P,$c as Q,kc as R,Li as S,Nc as T,Dc as U,Te as V,gi as W,Fc as X,Et as Y,Hc as Z,sl as _,Qe as a,el as a0,Jc as a1,Vt as a2,qc as a3,cn as a4,Mc as a5,Rc as a6,he as b,wt as c,J as d,Pe as e,Si as f,Ze as g,ki as h,Di as i,Uc as j,jc as k,Bc as l,Lc as m,Kc as n,Yc as o,Xc as p,ji as q,Gc as r,nn as s,vt as t,Vc as u,Ai as v,tl as w,nl as x,Bi as y,Zc as z};
